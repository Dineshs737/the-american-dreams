
DROP DATABASE IF EXISTS `TechWizards_techlms`;
CREATE DATABASE `TechWizards_techlms`;
USE  `TechWizards_techlms`;

DROP TABLE  IF EXISTS `user`;
CREATE TABLE IF NOT EXISTS `user` (
    `NIC` VARCHAR(13) NOT NULL PRIMARY KEY,
    `email` VARCHAR(50) NOT NULL,
    `role` VARCHAR(100) NOT NULL,
    `contact_no` VARCHAR(15) NOT NULL,
    `password` VARCHAR(60) NOT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_general_ci;




INSERT INTO `user` (`NIC`, `email`, `role`, `contact_no`, `password`) VALUES
    ('200127800625', 'Jamper999@gmail.com', 'Student', '761234654', 'rD5hF3kA9s3Z'),
    ('200157800625', 'otara87@gmail.com', 'Student', '761234789', 'fY7gL2mJ1qR8'),
    ('200130800025', 'manodra@gmail.com', 'Student', '761234678', 'vC6jB4hZ2pN5'),
    ('200227900425', 'rajapaksha@gmail.com', 'Student', '761234565', 'aS9fT1qL8zW3'),
    ('200240800625', 'asmaakram2@gmail.com', 'Student', '761234564', 'xM4bJ3sH5wK7'),
    ('200127700625', 'kanadipudayan@gmail.com', 'Student', '718032400', 'kH2nY9jF4bM1'),
    ('200127800626', 'shalini52@gmail.com', 'Student', '761234567', 'nG3vS2tA7hB8'),
    ('200127800565', 'pema00@gmail.com', 'Student', '718032468', 'pB1kM7tF8wR3'),
    ('200127800800', 'anpuSin@gmail.com', 'Student', '761234573', 'cD5xP1jA9kF2'),
    ('200277889955', 'dinesh@gmail.com', 'Student', '749900223', 'lT7rG3hJ2qX5'),
    ('200212345678', 'kaviya@gmail.com', 'Student', '788765432', 'jH1bM9zA4pF7'),
    ('200289765411', 'dhanu@gmail.com', 'Student', '745432188', 'eY8nJ4mB2tR3'),
    ('202289786756', 'dharshi@gmail.com', 'Student', '751234509', 'qH5mK2nF7yS8'),
    ('200299666543', 'thinesh@gmail.com', 'Student', '750987653', 'gL8fN1pB3rX5'),
    ('200278904321', 'akram@gmail.com', 'Student', '764545456', 'dC2vM6qF9tK4'),
    ('200234567890', 'thak@gmail.com', 'Student', '761234098', 'xG5nF3hM1yB9'),
    ('200287667887', 'keerthan@gmail.com', 'Student', '789876588', 'hZ1mK7jF2cN4'),
    ('200223450987', 'madhu@gmail.com', 'Student', '753456789', 'nA3pT8bF1kR6'),
    ('200212347890', 'suba@gmail.com', 'Student', '747474745', 'tR6kB1nD3fW5'),
    ('200298769876', 'praveen@gmail.com', 'Student', '757698089', 'qL2gF9pB4hK8'),
    ('200198769876','Sajeeya@gmail.com','Student','718562347','e9f8b28be27a'),
    ('200112347890','Asma@gmail.com','Student','768534547','3aabbb98c53a'),
    ('200134567890','Umesha@gmail.com','Student','775340058','a1a38ae21b71'),
    ('200177889955','Danith@gmail.com','Student','718032400','00f7225b7be5'),
    ('200130800126','Dasun@gmail.com','Student','761234687','7360409d967a');




    ## END
## Technical_officer user data insert

##SART
    INSERT INTO `user` (`NIC`, `email`, `role`, `contact_no`, `password`)VALUES
    ('199012345678', 'kavindi@gmail.com', 'Technical_officer', '769870000', 'rQ8wT5zL3qA9'),
    ('199109876543', 'raja@gmail.com', 'Technical_officer', '755566799', 'hG5mF2yB7tD1'),
    ('198956788765', 'kamal@gmail.com', 'Technical_officer', '760987654', 'xJ3qT8gB1mS2'),
    ('198809877890', 'vihanga@gmail.com', 'Technical_officer', '760000987', 'zF4nD7kL9jE3'),
    ('199576547654', 'mithu@gmail.com', 'Technical_officer', '756677665', 'vN1jH6aM5pR8');
##END



INSERT INTO `user` (`NIC`, `email`, `role`, `contact_no`, `password`)VALUES
    ('198366114466', 'suman@gmail.com', 'Admin', '719877898', 'yH7qR5dX3kF2');
##END

## Lecturer user data insert

##SART
INSERT INTO `user` (`NIC`, `email`, `role`, `contact_no`, `password`) VALUES
    ('198812332111', 'aayansh@gmail.com', 'Lecturer', '0712345678', '7a9c5c12f8b4'),
    ('197798788855', 'kavindi@gmail.com', 'Lecturer', '0781234567', '8c7d1a84b2e3'),
    ('197800099988', 'nadeesha@gmail.com', 'Lecturer', '0745678123', '5e4c6a9f3d1f'),
    ('198155667788', 'tharindu@gmail.com', 'Lecturer', '0712348765', '2f3d9e8b4a6a'),
    ('198000998877', 'ishara@gmail.com', 'Lecturer', '0787654321', '0b1a3e6c8c2b'),
    ('199112340987', 'lakal@gmail.com', 'Lecturer', '0741234567', '8d7e5f0a2e4b'),
    ('198088336611', 'ruwan@gmail.com', 'Lecturer', '0712349876', '1a2d3e4f5b6c'),
    ('198900664433', 'nishan@gmail.com', 'Lecturer', '0789123456', '6c5b4e3d2a1f'),
    ('198622330099', 'shaneeka@gmail.com', 'Lecturer', '0712346589', '4b3c2d5e8f1a'),
    ('198977889911', 'kusum@gmail.com', 'Lecturer', '0745678901', '5e6f7d8c3b2a');
    ##END


## dean user data insert

##SART

INSERT INTO `user` (`NIC`, `email`, `role`, `contact_no`, `password`) VALUES
    ('198009809877', 'praveenkanth@gmail.com', 'Dean', '0712345678', '4f3b8a1e2c3d');
##END




DROP TABLE IF EXISTS `lecturer`;
CREATE TABLE IF NOT EXISTS `lecturer`(
    `lecturer_ID` CHAR(5),
    `NIC` CHAR(12),
    `subject` VARCHAR(50),
    `name` VARCHAR(30),
    `address` VARCHAR(100)
);



INSERT INTO `lecturer` (`lecturer_ID`, `NIC`, `subject`, `name`, `address`) VALUES
('L001', '198812332111', 'Database Management System', 'Mr.Aayansh', '123 Main Street, Colombo 07'),
('L002', '197798788855', 'Computer Architecture', 'Miss.Kavindi', '45 Galle Road, Mount Lavinia'),
('L003', '197800099988', 'Computer Networks', 'Miss.Nadeesha', 'No. 5, Kandy Road, Nugegoda'),
('L004', '198155667788', 'Server Side Web Development', 'Mr.Tharindu', '78, Church Street, Negombo'),
('L005', '198000998877', 'Computer Programming', 'Miss.Ishara', '34, Peradeniya Road, Kandy'),
('L006', '199112340987', 'Multimedia Technology', 'Mr.Lakal', '10, Kottawa Junction, Piliyandala'),
('L007', '198088336611', 'Fundamentals of Information System', 'Mr.Ruwan', '56, Gampaha Road, Kelaniya'),
('L008', '198900664433', 'Web Technology', 'Mr.Nishan', 'Thadchanamaruthamaadhu, Mannar'),
('L009', '198622330099', 'Artificial Intelligence', 'Miss.Shaneeka', '22, High Street, Jaffna'),
('L010', '198977889911', 'Software Engineering', 'Ms.Kusum', '88, Baduwatta, Galle');
##END


DROP TABLE IF EXISTS `technical_Officer`;
CREATE TABLE IF NOT EXISTS `technical_Officer` (
    `technical_ID` CHAR(10) PRIMARY KEY, -- Increase size to accommodate longer IDs
    `NIC` CHAR(12),
    `name` VARCHAR(50)
);

INSERT INTO `technical_Officer` (`technical_ID`, `NIC`, `name`) VALUES
('Tec_Off_01', '199012345678', 'Kavindi'),
('Tec_Off_02', '199109876543', 'Raja'),
('Tec_Off_04', '198956788765', 'Kamal'),
('Tec_Off_07', '198809877890', 'Vihanga'),
('Tec_Off_09', '199576547654', 'Mithu');
## END


DROP TABLE IF EXISTS `dean`;
CREATE TABLE IF NOT EXISTS `dean` (
    `dean_id` CHAR(5) PRIMARY KEY,
    `NIC` CHAR(12) UNIQUE,
    `name` VARCHAR(50),
    `start_date` DATE
);

INSERT INTO `dean` (`dean_id`, `NIC`, `name`, `start_date`) VALUES
('D0001', '198009809877', 'Praveen Kanth', '2017-01-01');


DROP TABLE IF EXISTS `admin`;
CREATE TABLE IF NOT EXISTS `admin` (
    `Admin_ID` CHAR(5) PRIMARY KEY,-- Admin ID
    `NIC` CHAR(12) NOT NULL,
    `name` VARCHAR(50)                -- Name of the Admin
);

## Insert data into  `admin` table
##SART
INSERT INTO `admin` (`admin_ID`,`NIC`, `name`) VALUES
('A001','198366114466','Suman');


DROP TABLE IF EXISTS `student`;
CREATE TABLE IF NOT EXISTS `student` (
    `student_id` CHAR(10) PRIMARY KEY,
    `NIC` CHAR(12) UNIQUE,
    `name` VARCHAR(30),
    `batch` CHAR(4),
    `gender` CHAR(1) CHECK (`gender` IN ('M', 'F'))
);


INSERT INTO `student` (`student_id`, `NIC`, `name`, `batch`, `gender`) VALUES
('TG1062', '200127800625', 'Jamper', '2022', 'M'),
('TG1063', '200157800625', 'Kumar', '2022', 'M'),
('TG1064', '200130800025', 'Rohit', '2022', 'M'),
('TG1414', '200227900425', 'Karuvadu', '2022', 'M'),
('TG1413', '200240800625', 'Rani', '2022', 'F'),
('TG1345', '200127700625', 'Pampu', '2022', 'M'),
('TG1067', '200127800626', 'Shalini', '2022', 'F'),
('TG1415', '200127800565', 'Pema', '2022', 'M'),
('TG1417', '200127800800', 'Anpu', '2022', 'M'),
('TG1416', '200277889955', 'Dinesh', '2022', 'M'),
('TG1418', '200212345678', 'Kaviya', '2022', 'F'),
('TG1419', '200289765411', 'Dhanu', '2022', 'F'),
('TG1420', '202289786756', 'Dharshi', '2022', 'F'),
('TG1421', '200299666543', 'Thinesh', '2022', 'M'),
('TG1422', '200278904321', 'Akram', '2022', 'M'),
('TG1423', '200234567890', 'Thakshan', '2022', 'M'),
('TG1424', '200287667887', 'Keerthan', '2022', 'M'),
('TG1425', '200223450987', 'Madhu', '2022', 'F'),
('TG1426', '200212347890', 'Suba', '2022', 'F'),
('TG1427', '200298769876', 'Praveen', '2022', 'M'), -- Changed NIC to a unique value
##              student  repeat  data            ##
('TG901','200198769876','Sajeeya','2021','F'),
('TG997','200112347890','Asma','2021','F'),
('TG998','200134567890','Umesha','2021','F'),
('TG999','200177889955','Danith','2021','M'),
('TG1002','200130800126','Dasun','2021','M');
##END

SELECT * FROM  `student` ;

DROP TABLE IF EXISTS `course`;
CREATE TABLE IF NOT EXISTS  `course` (`course_id` CHAR(10) PRIMARY KEY ,
`name` VARCHAR(100),
`credit` INT ,
`week` VARCHAR(20)
);


INSERT INTO `course`(`course_id`,`name`,`credit`,`week`) VALUES
('ICT1213', 'Database_management_system', 3, '15'),
('ICT1222', 'computer_rchitecture', 2, '15'),
('ICT1233', 'Computer_network', 3, '15'),
('ICT1242', 'Server_side_web_development', 2, '15'),
('ICT1253', 'Computer_programing', 3, '15'),
('ICT1261', 'Muiltimedia_technology', 1, '15'),
('ICT1271', 'Fundamendal_of_IS', 1, '15'),
('ICT1283', 'Web_technology', 3, '15'),
('ICT1293', 'Artificial_inteligence', 3, '15'),
('ICT12101', 'Software_engineering', 2, '15');





## `attendance` table structure
DROP TABLE  IF EXISTS `attendance`;
CREATE TABLE IF NOT EXISTS `attendance` (
  `student_id` varchar(10) NOT NULL,
  `course_id` varchar(10) NOT NULL,
  `week_01` varchar(2) DEFAULT NULL,
  `week_02` varchar(2) DEFAULT NULL,
  `week_03` varchar(2) DEFAULT NULL,
  `week_04` varchar(2) DEFAULT NULL,
  `week_05` varchar(2) DEFAULT NULL,
  `week_06` varchar(2) DEFAULT NULL,
  `week_07` varchar(2) DEFAULT NULL,
  `week_08` varchar(2) DEFAULT NULL,
  `week_09` varchar(2) DEFAULT NULL,
  `week_10` varchar(2) DEFAULT NULL,
  `week_11` varchar(2) DEFAULT NULL,
  `week_12` varchar(2) DEFAULT NULL,
  `week_13` varchar(2) DEFAULT NULL,
  `week_14` varchar(2) DEFAULT NULL,
  `week_15` varchar(2) DEFAULT NULL,
  `total_attended` int(11) GENERATED ALWAYS AS (
      CASE WHEN `week_01` = 'AB' THEN 0 WHEN `week_01` = 'MC' THEN 1 ELSE CAST(`week_01` AS SIGNED) END +
      CASE WHEN `week_02` = 'AB' THEN 0 WHEN `week_02` = 'MC' THEN 1 ELSE CAST(`week_02` AS SIGNED) END +
      CASE WHEN `week_03` = 'AB' THEN 0 WHEN `week_03` = 'MC' THEN 1 ELSE CAST(`week_03` AS SIGNED) END +
      CASE WHEN `week_04` = 'AB' THEN 0 WHEN `week_04` = 'MC' THEN 1 ELSE CAST(`week_04` AS SIGNED) END +
      CASE WHEN `week_05` = 'AB' THEN 0 WHEN `week_05` = 'MC' THEN 1 ELSE CAST(`week_05` AS SIGNED) END +
      CASE WHEN `week_06` = 'AB' THEN 0 WHEN `week_06` = 'MC' THEN 1 ELSE CAST(`week_06` AS SIGNED) END +
      CASE WHEN `week_07` = 'AB' THEN 0 WHEN `week_07` = 'MC' THEN 1 ELSE CAST(`week_07` AS SIGNED) END +
      CASE WHEN `week_08` = 'AB' THEN 0 WHEN `week_08` = 'MC' THEN 1 ELSE CAST(`week_08` AS SIGNED) END +
      CASE WHEN `week_09` = 'AB' THEN 0 WHEN `week_09` = 'MC' THEN 1 ELSE CAST(`week_09` AS SIGNED) END +
      CASE WHEN `week_10` = 'AB' THEN 0 WHEN `week_10` = 'MC' THEN 1 ELSE CAST(`week_10` AS SIGNED) END +
      CASE WHEN `week_11` = 'AB' THEN 0 WHEN `week_11` = 'MC' THEN 1 ELSE CAST(`week_11` AS SIGNED) END +
      CASE WHEN `week_12` = 'AB' THEN 0 WHEN `week_12` = 'MC' THEN 1 ELSE CAST(`week_12` AS SIGNED) END +
      CASE WHEN `week_13` = 'AB' THEN 0 WHEN `week_13` = 'MC' THEN 1 ELSE CAST(`week_13` AS SIGNED) END +
      CASE WHEN `week_14` = 'AB' THEN 0 WHEN `week_14` = 'MC' THEN 1 ELSE CAST(`week_14` AS SIGNED) END +
      CASE WHEN `week_15` = 'AB' THEN 0 WHEN `week_15` = 'MC' THEN 1 ELSE CAST(`week_15` AS SIGNED) END
  ) VIRTUAL,
  `attendance_percentage` DECIMAL(5, 2) GENERATED ALWAYS AS (
      CASE
          WHEN `total_attended` IS NULL OR 15 = 0 THEN 0
          ELSE (`total_attended` / 15.0) * 100
      END
  ) VIRTUAL,
  PRIMARY KEY (`student_id`, `course_id`)  -- Assuming a composite primary key based on student and course
) ;
#ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_general_ci;



## insert data into `attendance`
##SART

INSERT INTO `attendance` (`student_id`, `course_id`, `week_01`, `week_02`, `week_03`, `week_04`, `week_05`, `week_06`, `week_07`, `week_08`, `week_09`, `week_10`, `week_11`, `week_12`, `week_13`, `week_14`, `week_15`) VALUES
('TG1062', 'ICT1213', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1'),
('TG1062', 'ICT1222', '1', '1', '1', 'AB', '1', '1', '1', '1', '1', 'MC', '1', 'AB', '1', '1', '1'),
('TG1062', 'ICT1233', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1'),
('TG1062', 'ICT1242', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1'),
('TG1062', 'ICT1253', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1'),
('TG1062', 'ICT1261', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1'),
('TG1062', 'ICT1271', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1'),
('TG1062', 'ICT1283', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1'),
('TG1062', 'ICT1293', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', 'AB', '1', '1', '1'),
('TG1062', 'ICT12102', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', 'AB', '1', '1', '1'),
('TG1063', 'ICT1213', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', 'AB', '1', '1', '1'),
('TG1063', 'ICT1222', '1', '1', '1', '1', 'AB', '1', 'AB', '1', '1', '1', '1', 'AB', '1', 'AB', '1'),
('TG1063', 'ICT1233', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', 'AB', '1', '1', '1'),
('TG1063', 'ICT1242', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', 'AB', '1', '1', '1'),
('TG1063', 'ICT1253', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', 'AB', '1', '1', '1'),
('TG1063', 'ICT1261', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', 'AB', '1', '1', '1'),
('TG1063', 'ICT1271', '1', '1', '1', '1', '1', '1', '1', '1', 'AB', '1', '1', '1', '1', '1', '1'),
('TG1063', 'ICT1283', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1'),
('TG1063', 'ICT1293', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1'),
('TG1063', 'ICT12102', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1'),
('TG1064', 'ICT1213', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1'),
('TG1064', 'ICT1222', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1'),
('TG1064', 'ICT1233', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1'),
('TG1064', 'ICT1242', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1'),
('TG1064', 'ICT1253', '1', 'AB', '1', '1', 'AB', '1', 'AB', '1', 'AB', '1', '1', 'AB', '1', 'AB', '1'),
('TG1064', 'ICT1261', '1', 'MC', '1', '1', 'AB', '1', '1', '1', 'AB', '1', '1', '1', '1', '1', '1'),
('TG1064', 'ICT1271', '1', 'MC', '1', '1', '1', '1', '1', '1', 'AB', '1', '1', '1', '1', '1', '1'),
('TG1064', 'ICT1283', '1', 'MC', '1', '1', '1', '1', '1', '1', 'AB', '1', '1', '1', '1', '1', '1'),
('TG1064', 'ICT1293', '1', 'MC', '1', '1', '1', '1', '1', '1', 'AB', '1', '1', '1', '1', '1', '1'),
('TG1064', 'ICT12102', '1', 'MC', '1', '1', '1', '1', '1', '1', 'AB', '1', '1', '1', '1', '1', '1'),
('TG1414', 'ICT1213' ,'1', 'MC', '1', '1', '1', '1', 'AB', '1', 'AB', '1', '1', 'AB', '1', 'AB', '1'),
('TG1414', 'ICT1222', '1', 'MC', '1', '1', 'AB', '1', 'AB', '1', 'AB', '1', 'AB', '1', 'AB', '1', '1'),
('TG1414', 'ICT1233', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', 'AB', '1', '1'),
('TG1414', 'ICT1242', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1'),
('TG1414', 'ICT1252', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1'),
('TG1414', 'ICT1261', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1'),
('TG1414', 'ICT1271', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1'),
('TG1414', 'ICT1283', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1'),
('TG1414', 'ICT1293', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1'),
('TG1414', 'ICT12102', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1'),
('TG1413', 'ICT1213', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', 'AB', '1', '1'),
('TG1413', 'ICT1222', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1'),
('TG1413', 'ICT1233', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1'),
('TG1413', 'ICT1242', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1'),
('TG1413', 'ICT1253', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1'),
('TG1413', 'ICT1261', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1'),
('TG1413', 'ICT1271', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1'),
('TG1413', 'ICT1283', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1'),
('TG1413', 'ICT1293', '1', '1', 'MC', '1', '1', '1', '1', '1', '1', '1', '1', '1', 'AB', '1', '1'),
('TG1413', 'ICT12102', '1', '1', 'MC', '1', '1', '1', '1', '1', '1', '1', '1', '1', 'AB', '1', '1'),
('TG1415', 'ICT1213', '1', '1', 'MC', '1', '1', '1', '1', '1', '1', '1', '1', '1', 'AB', '1', '1'),
('TG1415', 'ICT1222', '1', '1', 'MC', '1', '1', '1', '1', '1', '1', '1', '1', '1', 'AB', '1', '1'),
('TG1415', 'ICT1233', '1', '1', 'MC', '1', '1', '1', '1', '1', '1', '1', '1', '1', 'AB', '1', '1'),
('TG1415', 'ICT1242', '1', '1', 'MC', '1', '1', '1', '1', '1', '1', '1', '1', '1', 'AB', '1', '1'),
('TG1415', 'ICT1253', '1', '1', 'MC', '1', '1', '1', '1', '1', '1', '1', '1', '1', 'AB', '1', '1'),
('TG1415', 'ICT1261', '1', '1', 'MC', '1', '1', '1', '1', '1', '1', '1', '1', '1', 'AB', '1', '1'),
('TG1415', 'ICT1271', '1', '1', 'AB', '1', '1', 'AB', '1', 'AB', '1', 'AB', '1', '1', 'AB', '1', 'MC'),
('TG1415', 'ICT1283', '1', '1', '1', '1', '1', '1', '1', '1', '1', 'AB', '1', '1', 'AB', '1', 'MC'),
('TG1415', 'ICT1293', '1', '1', '1', '1', '1', '1', '1', '1', '1', 'AB', '1', '1', 'AB', '1', 'MC'),
('TG1415', 'ICT12102', '1', '1', 'AB', '1', 'AB', 'AB', '1', '1', '1', 'AB', '1', '1', 'AB', '1', 'MC'),
('TG1417', 'ICT1213', '1', '1', '1', '1', '1', '1', '1', '1', '1', 'AB', '1', '1', 'AB', '1', 'MC'),
('TG1417', 'ICT1222', '1', '1', 'AB', '1', 'AB', '1', '1', '1', '1', 'AB', '1', '1', 'AB', '1', 'MC'),
('TG1417', 'ICT1233', '1', '1', '1', '1', '1', '1', '1', '1', '1', 'AB', '1', '1', 'AB', '1', 'MC'),
('TG1417', 'ICT1242', '1', '1', 'AB', '1', 'AB', '1', '1', '1', '1', 'AB', '1', '1', 'AB', '1', 'MC'),
('TG1417', 'ICT1253', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', 'AB', '1', '1'),
('TG1417', 'ICT1261', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', 'AB', '1', '1'),
('TG1417', 'ICT1271', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', 'AB', '1', '1'),
('TG1417', 'ICT1283', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', 'AB', '1', '1'),
('TG1417', 'ICT1293', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', 'AB', '1', '1'),
('TG1417', 'ICT12102', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', 'AB', '1', '1'),
('TG1067', 'ICT1213', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', 'AB', '1', '1'),
('TG1067', 'ICT1222', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', 'AB', '1', '1'),
('TG1067', 'ICT1233', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1'),
('TG1067', 'ICT1242', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1'),
('TG1067', 'ICT1253', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1'),
('TG1067', 'ICT1261', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1'),
('TG1067', 'ICT1271', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1'),
('TG1067', 'ICT1283', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1'),
('TG1067', 'ICT1293', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1'),
('TG1067', 'ICT12102', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1'),
('TG1416', 'ICT1213', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1'),
('TG1416', 'ICT1222', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1'),
('TG1416', 'ICT1233', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', 'AB', '1', '1'),
('TG1416', 'ICT1242', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1'),
('TG1416', 'ICT1253', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1'),
('TG1416', 'ICT1261', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1'),
('TG1416', 'ICT1271', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1'),
('TG1416', 'ICT1283', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1'),
('TG1416', 'ICT1293', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1'),
('TG1416', 'ICT12102', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1'),
('TG1345', 'ICT1213', '1', '1', 'MC', '1', '1', '1', '1', '1', '1', '1', '1', '1', 'AB', '1', '1'),
('TG1345', 'ICT1222', '1', '1', 'MC', '1', '1', '1', '1', '1', '1', '1', '1', '1', 'AB', '1', '1'),
('TG1345', 'ICT1233', '1', '1', 'MC', '1', '1', '1', '1', '1', '1', '1', '1', '1', 'AB', '1', '1'),
('TG1345', 'ICT1242', '1', '1', 'MC', '1', '1', '1', '1', '1', '1', '1', '1', '1', 'AB', '1', '1'),
('TG1345', 'ICT1261', '1', '1', 'MC', '1', '1', '1', '1', '1', '1', '1', '1', '1', 'AB', '1', '1'),
('TG1345', 'TCS1271', '1', '1', 'MC', '1', '1', '1', '1', '1', '1', '1', '1', '1', 'AB', '1', '1'),
('TG1345', 'ICT1283', '1', '1', 'MC', '1', '1', '1', '1', '1', '1', '1', '1', '1', 'AB', '1', '1'),
('TG1345', 'ICT1293', '1', '1', 'AB', '1', '1', 'AB', '1', 'AB', '1', 'AB', '1', '1', 'AB', '1', 'MC'),
('TG1345', 'ICT12102', '1', '1', '1', '1', '1', '1', '1', '1', '1', 'AB', '1', '1', 'AB', '1', 'MC'),
('TG1418', 'ICT1213', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1'),
('TG1418', 'ICT1222', '1', '1', '1', 'AB', '1', '1', '1', '1', '1', 'MC', '1', 'AB', '1', '1', '1'),
('TG1418', 'ICT1233', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1'),
('TG1418', 'ICT1242', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1'),
('TG1418', 'ICT1253', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1'),
('TG1418', 'ICT1261', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1'),
('TG1418', 'ICT1271', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1'),
('TG1418', 'ICT1283', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1'),
('TG1418', 'ICT1293', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', 'AB', '1', '1', '1'),
('TG1418', 'ICT12102', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', 'AB', '1', '1', '1'),
('TG1419', 'ICT1213', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', 'AB', '1', '1', '1'),
('TG1419', 'ICT1222', '1', '1', '1', '1', 'AB', '1', 'AB', '1', '1', '1', '1', 'AB', '1', 'AB', '1'),
('TG1419', 'ICT1233', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', 'AB', '1', '1', '1'),
('TG1419', 'ICT1242', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', 'AB', '1', '1', '1'),
('TG1419', 'ICT1253', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', 'AB', '1', '1', '1'),
('TG1419', 'ICT1261', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', 'AB', '1', '1', '1'),
('TG1419', 'ICT1271', '1', '1', '1', '1', '1', '1', '1', '1', 'AB', '1', '1', '1', '1', '1', '1'),
('TG1419', 'ICT1283', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1'),
('TG1419', 'ICT1293', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1'),
('TG1419', 'ICT12102', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1'),
('TG1420', 'ICT1213', '1', 'MC', '1', '1', '1', '1', 'AB', '1', 'AB', '1', '1', 'AB', '1', 'AB', '1'),
('TG1420', 'ICT1222', '1', 'MC', '1', '1', 'AB', '1', 'AB', '1', 'AB', '1', 'AB', '1', 'AB', '1', '1'),
('TG1420', 'ICT1233', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', 'AB', '1', '1'),
('TG1420', 'ICT1242', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1'),
('TG1420', 'ICT1253', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1'),
('TG1420', 'ICT1261', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1'),
('TG1420', 'ICT1271', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1'),
('TG1420', 'ICT1283', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1'),
('TG1420', 'ICT1293', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1'),
('TG1420', 'ICT12102', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1'),
('TG1421', 'ICT1213', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', 'AB', '1', '1'),
('TG1421', 'ICT1222', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1'),
('TG1421', 'ICT1233', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1'),
('TG1421', 'ICT1242', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1'),
('TG1421', 'ICT1253', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1'),
('TG1421', 'ICT1261', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1'),
('TG1421', 'ICT1271', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1'),
('TG1421', 'ICT1283', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1'),
('TG1421', 'ICT1293', '1', '1', 'MC', '1', '1', '1', '1', '1', '1', '1', '1', '1', 'AB', '1', '1'),
('TG1421', 'ICT12103', '1', '1', 'MC', '1', '1', '1', '1', '1', '1', '1', '1', '1', 'AB', '1', '1'),
('TG1422', 'ICT1213', '1', '1', 'MC', '1', '1', '1', '1', '1', '1', '1', '1', '1', 'AB', '1', '1'),
('TG1422', 'ICT1222', '1', '1', 'MC', '1', '1', '1', '1', '1', '1', '1', '1', '1', 'AB', '1', '1'),
('TG1422', 'ICT1233', '1', '1', 'MC', '1', '1', '1', '1', '1', '1', '1', '1', '1', 'AB', '1', '1'),
('TG1422', 'ICT1242', '1', '1', 'MC', '1', '1', '1', '1', '1', '1', '1', '1', '1', 'AB', '1', '1'),
('TG1422', 'TCS1253', '1', '1', 'MC', '1', '1', '1', '1', '1', '1', '1', '1', '1', 'AB', '1', '1'),
('TG1422', 'ICT1261', '1', '1', 'MC', '1', '1', '1', '1', '1', '1', '1', '1', '1', 'AB', '1', '1'),
('TG1422', 'ICT1271', '1', '1', 'AB', '1', '1', 'AB', '1', 'AB', '1', 'AB', '1', '1', 'AB', '1', 'MC'),
('TG1422', 'ICT1283', '1', '1', '1', '1', '1', '1', '1', '1', '1', 'AB', '1', '1', 'AB', '1', 'MC'),
('TG1422', 'ICT1293', '1', '1', '1', '1', '1', '1', '1', '1', '1', 'AB', '1', '1', 'AB', '1', 'MC'),
('TG1422', 'ICT12102', '1', '1', 'AB', '1', 'AB', 'AB', '1', '1', '1', 'AB', '1', '1', 'AB', '1', 'MC'),
('TG1423', 'ICT1213', '1', '1', 'MC', '1', '1', '1', '1', '1', '1', '1', '1', '1', 'AB', '1', '1'),
('TG1423', 'ICT1222', '1', '1', 'MC', '1', '1', '1', '1', '1', '1', '1', '1', '1', 'AB', '1', '1'),
('TG1423', 'ICT1233', '1', '1', 'MC', '1', '1', '1', '1', '1', '1', '1', '1', '1', 'AB', '1', '1'),
('TG1423', 'ICT1242', '1', '1', 'MC', '1', '1', '1', '1', '1', '1', '1', '1', '1', 'AB', '1', '1'),
('TG1423', 'ICT1253', '1', '1', 'MC', '1', '1', '1', '1', '1', '1', '1', '1', '1', 'AB', '1', '1'),
('TG1423', 'ICT1261', '1', '1', 'MC', '1', '1', '1', '1', '1', '1', '1', '1', '1', 'AB', '1', '1'),
('TG1423', 'ICT1271', '1', '1', 'AB', '1', '1', 'AB', '1', 'AB', '1', 'AB', '1', '1', 'AB', '1', 'MC'),
('TG1423', 'ICT1283', '1', '1', '1', '1', '1', '1', '1', '1', '1', 'AB', '1', '1', 'AB', '1', 'MC'),
('TG1423', 'ICT1293', '1', '1', '1', '1', '1', '1', '1', '1', '1', 'AB', '1', '1', 'AB', '1', 'MC'),
('TG1423', 'ICT12102', '1', '1', 'AB', '1', 'AB', 'AB', '1', '1', '1', 'AB', '1', '1', 'AB', '1', 'MC'),
('TG1424', 'ICT1213', '1', '1', '1', '1', '1', '1', '1', '1', '1', 'AB', '1', '1', 'AB', '1', 'MC'),
('TG1424', 'ICT1222', '1', '1', 'AB', '1', 'AB', '1', '1', '1', '1', 'AB', '1', '1', 'AB', '1', 'MC'),
('TG1424', 'ICT1233', '1', '1', '1', '1', '1', '1', '1', '1', '1', 'AB', '1', '1', 'AB', '1', 'MC'),
('TG1424', 'ICT1242', '1', '1', 'AB', '1', 'AB', '1', '1', '1', '1', 'AB', '1', '1', 'AB', '1', 'MC'),
('TG1424', 'ICT1253', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', 'AB', '1', '1'),
('TG1424', 'ICT1261', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', 'AB', '1', '1'),
('TG1424', 'ICT1271', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', 'AB', '1', '1'),
('TG1424', 'ICT1283', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', 'AB', '1', '1'),
('TG1424', 'ICT1293', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', 'AB', '1', '1'),
('TG1424', 'ICT12102', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', 'AB', '1', '1'),
('TG1425', 'ICT1213', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', 'AB', '1', '1'),
('TG1425', 'ICT1222', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', 'AB', '1', '1'),
('TG1425', 'ICT1233', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1'),
('TG1425', 'ICT1242', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1'),
('TG1425', 'ICT1253', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1'),
('TG1425', 'ICT1261', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1'),
('TG1425', 'ICT1271', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1'),
('TG1425', 'ICT1283', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1'),
('TG1425', 'ICT1293', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1'),
('TG1425', 'ICT12102', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1'),
('TG1426', 'ICT1213', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1'),
('TG1426', 'ICT1222', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1'),
('TG1426', 'ICT1233', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', 'AB', '1', '1'),
('TG1426', 'ICT1242', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1'),
('TG1426', 'ICT1253', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1'),
('TG1426', 'ICT1261', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1'),
('TG1426', 'ICT1271', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1'),
('TG1426', 'ICT1283', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1'),
('TG1426', 'ICT1293', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1'),
('TG1426', 'ICT12102', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1'),
('TG1427', 'ICT1213', '1', '1', 'MC', '1', '1', '1', '1', '1', '1', '1', '1', '1', 'AB', '1', '1'),
('TG1427', 'ICT1222', '1', '1', 'MC', '1', '1', '1', '1', '1', '1', '1', '1', '1', 'AB', '1', '1'),
('TG1427', 'ICT1233', '1', '1', 'MC', '1', '1', '1', '1', '1', '1', '1', '1', '1', 'AB', '1', '1'),
('TG1427', 'ICT1242', '1', '1', 'MC', '1', '1', '1', '1', '1', '1', '1', '1', '1', 'AB', '1', '1'),
('TG1427', 'ICT1253', '1', '1', 'MC', '1', '1', '1', '1', '1', '1', '1', '1', '1', 'AB', '1', '1'),
('TG1427', 'ICT1261', '1', '1', 'MC', '1', '1', '1', '1', '1', '1', '1', '1', '1', 'AB', '1', '1'),
('TG1427', 'ICT1271', '1', '1', 'MC', '1', '1', '1', '1', '1', '1', '1', '1', '1', 'AB', '1', '1'),
('TG1427', 'ICT1283', '1', '1', 'MC', '1', '1', '1', '1', '1', '1', '1', '1', '1', 'AB', '1', '1'),
('TG1427', 'ICT1293', '1', '1', 'AB', '1', '1', 'AB', '1', 'AB', '1', 'AB', '1', '1', 'AB', '1', 'MC'),
('TG1427', 'ICT12102', '1', '1', '1', '1', '1', '1', '1', '1', '1', 'AB', '1', '1', 'AB', '1', 'MC');



SELECT * FROM  `attendance`;


## TABLE STRUCTURE ICT1213_course_marks

DROP TABLE IF EXISTS ICT1213_course_marks;
CREATE TABLE ICT1213_course_marks (
student_id varchar(10) NOT NULL,
  quiz_1 decimal(5,2) NOT NULL DEFAULT 0.00,
  quiz_2 decimal(5,2) NOT NULL DEFAULT 0.00,
  quiz_3 decimal(5,2) NOT NULL DEFAULT 0.00,
  inclass_test_marks decimal(5,2) NOT NULL DEFAULT 0.00,
  final_quiz_marks decimal(5,2) GENERATED ALWAYS AS ((quiz_1 + quiz_2 + quiz_3 - least(quiz_1,quiz_2,quiz_3)) / 3 * 0.10) STORED,
  final_assignment_marks decimal(5,2) GENERATED ALWAYS AS (inclass_test_marks * 0.05) STORED,
  mid_exam_marks decimal(5,2) NOT NULL DEFAULT 0.00,
  end_exam_marks decimal(5,2) NOT NULL DEFAULT 0.00,
  CA_total_marks decimal(5,2) GENERATED ALWAYS AS (final_quiz_marks + final_assignment_marks + mid_exam_marks * 0.25) STORED,
  final_marks decimal(5,2) GENERATED ALWAYS AS (final_quiz_marks + final_assignment_marks + mid_exam_marks * 0.25 + end_exam_marks * 0.60) STORED
) ;

##INSERT ICT1213_course_marks DATA
INSERT INTO ICT1213_course_marks (student_id, quiz_1, quiz_2, quiz_3, inclass_test_marks, mid_exam_marks, end_exam_marks) VALUES
('TG1062', 85.00, 90.00, 75.00, 80.00, 85.00, 88.00),
('TG1063', 78.00, 80.00, 75.00, 90.00, 85.00, 76.00),
('TG1064', 10.00, 30.00, 20.00, 20.00, 0.00, 0.00),
('TG1067', 100.00, 90.00, 80.00, 90.00, 85.00, 54.00),
('TG1345', 100.00, 100.00, 90.00, 90.00, 95.00, 90.00),
('TG1413', 87.00, 90.70, 68.50, 90.00, 85.00, 98.00),
('TG1414', 80.50, 90.50, 65.00, 59.00, 65.00, 58.00),
('TG1415', 88.00, 90.00, 75.50, 80.00, 85.00, 75.00),
('TG1416', 70.00, 80.00, 60.00, 80.00, 75.00, 73.00),
('TG1417', 88.00, 90.00, 34.50, 90.00, 75.00, 87.00),
('TG1418', 90.00, 80.00, 80.00, 85.00, 67.00, 89.00),
('TG1419', 80.00, 80.00, 70.00, 65.00, 87.00, 90.00),
('TG1420', 90.00, 80.00, 80.00, 85.00, 89.00, 76.00),
('TG1421', 60.00, 60.50, 70.50, 85.00, 77.00, 88.00),
('TG1422', 60.80, 80.70, 80.00, 85.00, 90.00, 87.00),
('TG1423', 90.00, 70.00, 80.00, 85.00, 65.00, 78.00),
('TG1424', 50.00, 70.00, 40.00, 85.00, 78.00, 89.00),
('TG1425', 90.00, 80.00, 80.00, 95.00, 57.00, 92.00),
('TG1426', 60.00, 80.00, 70.00, 67.00, 87.00, 77.00),
('TG1427', 95.00, 100.00, 85.00, 100.00, 90.00, 85.00),
##repeat student
('TG901', 75.00, 80.00, 70.00, 85.00, 90.00, 88.00),
('TG997', 85.00, 90.00, 80.00, 88.00, 82.00, 91.00),
('TG998', 90.00, 85.00, 78.00, 82.00, 80.00, 86.00),
('TG999', 70.00, 75.00, 80.00, 76.00, 78.00, 80.00),
('TG1002', 80.00, 82.00, 75.00, 80.00, 85.00, 87.00);



## TABLE STRUCTURE ICT1222_course_marks

DROP TABLE IF EXISTS ICT1222_course_marks ;

CREATE TABLE ICT1222_course_marks (
student_id varchar(10) NOT NULL,
  quiz_1 decimal(5,2) NOT NULL DEFAULT 0.00,
  quiz_2 decimal(5,2) NOT NULL DEFAULT 0.00,
  quiz_3 decimal(5,2) NOT NULL DEFAULT 0.00,
  inclass_test_marks decimal(5,2) NOT NULL DEFAULT 0.00,
  final_quiz_marks decimal(5,2) GENERATED ALWAYS AS ((quiz_1 + quiz_2 + quiz_3 - least(quiz_1,quiz_2,quiz_3)) / 3 * 0.10) STORED,
  final_assignment_marks decimal(5,2) GENERATED ALWAYS AS (inclass_test_marks * 0.05) STORED,
  mid_exam_marks decimal(5,2) NOT NULL DEFAULT 0.00,
  end_exam_marks decimal(5,2) NOT NULL DEFAULT 0.00,
  CA_total_marks decimal(5,2) GENERATED ALWAYS AS (final_quiz_marks + final_assignment_marks + mid_exam_marks * 0.25) STORED,
  final_marks decimal(5,2) GENERATED ALWAYS AS (final_quiz_marks + final_assignment_marks + mid_exam_marks * 0.25 + end_exam_marks * 0.60) STORED
) ;



INSERT INTO ICT1222_course_marks (student_id, quiz_1, quiz_2, quiz_3, inclass_test_marks, mid_exam_marks, end_exam_marks) VALUES
('TG1067', 85.00, 100.00, 75.00, 99.00, 90.00, 75.00),
('TG1417', 98.00, 80.00, 94.50, 90.00, 85.00, 97.00),
('TG1414', 80.50, 93.50, 75.00, 89.00, 55.00, 88.00),
('TG1415', 88.00, 80.00, 85.50, 88.00, 85.00, 85.00),
('TG1413', 87.50, 90.90, 78.50, 90.00, 95.00, 88.00),
('TG1064', 80.00, 50.00, 50.00, 70.00, 60.00, 60.00),
('TG1063', 79.00, 84.00, 76.00, 95.00, 85.50, 76.50),
('TG1067', 90.00, 90.00, 84.00, 90.00, 85.50, 54.00),
('TG1416', 80.00, 88.00, 65.00, 90.50, 75.50, 73.00),
('TG1345', 90.00, 90.50, 80.50, 90.50, 98.00, 80.00),
('TG1418', 90.00, 80.00, 85.00, 75.00, 67.50, 89.00),
('TG1419', 80.00, 87.00, 77.00, 65.00, 97.00, 96.00),
('TG1420', 90.50, 80.00, 80.00, 85.00, 89.50, 77.00),
('TG1421', 70.00, 64.50, 76.50, 85.50, 77.50, 79.00),
('TG1422', 70.80, 85.70, 81.50, 96.50, 90.50, 89.00),
('TG1423', 94.00, 80.00, 86.00, 65.00, 55.00, 68.50),
('TG1424', 70.00, 80.60, 77.50, 86.60, 88.60, 90.80),
('TG1425', 97.00, 70.00, 80.50, 95.60, 77.00, 90.00),
('TG1426', 70.00, 83.50, 73.90, 77.50, 87.50, 79.50),
('TG1427', 85.00, 99.50, 95.50, 92.50, 99.50, 95.50),
('TG901', 80.00, 85.00, 90.00, 80.00, 90.00, 85.00),
('TG997', 85.50, 70.50, 60.50, 75.50, 80.50, 75.50),
('TG998', 75.00, 85.00, 65.00, 70.00, 75.00, 80.00),
('TG999', 80.50, 90.00, 85.00, 90.00, 85.00, 95.00),
('TG1002', 70.00, 75.50, 80.00, 70.00, 75.00, 70.50);

DROP TABLE IF EXISTS ICT1233_course_marks ;

CREATE TABLE ICT1233_course_marks (
student_id varchar(10) NOT NULL,
  quiz_1 decimal(5,2) NOT NULL DEFAULT 0.00,
  quiz_2 decimal(5,2) NOT NULL DEFAULT 0.00,
  quiz_3 decimal(5,2) NOT NULL DEFAULT 0.00,
  inclass_test_marks decimal(5,2) NOT NULL DEFAULT 0.00,
  final_quiz_marks decimal(5,2) GENERATED ALWAYS AS ((quiz_1 + quiz_2 + quiz_3 - least(quiz_1,quiz_2,quiz_3)) / 3 * 0.10) STORED,
  final_assignment_marks decimal(5,2) GENERATED ALWAYS AS (inclass_test_marks * 0.05) STORED,
  mid_exam_marks decimal(5,2) NOT NULL DEFAULT 0.00,
  end_exam_marks decimal(5,2) NOT NULL DEFAULT 0.00,
  CA_total_marks decimal(5,2) GENERATED ALWAYS AS (final_quiz_marks + final_assignment_marks + mid_exam_marks * 0.25) STORED,
  final_marks decimal(5,2) GENERATED ALWAYS AS (final_quiz_marks + final_assignment_marks + mid_exam_marks * 0.25 + end_exam_marks * 0.60) STORED
) ;


INSERT INTO ICT1233_course_marks (student_id, quiz_1, quiz_2, quiz_3, inclass_test_marks, mid_exam_marks, end_exam_marks) VALUES
('TG1067', 75.00, 99.00, 85.00, 100.00, 90.00, 85.00),
('TG1417', 98.00, 90.50, 95.50, 91.00, 95.00, 100.00),
('TG1414', 81.00, 94.50, 75.50, 89.00, 95.00, 98.00),
('TG1415', 82.00, 83.50, 86.00, 89.00, 75.00, 85.50),
('TG1413', 87.50, 91.00, 77.00, 91.00, 96.00, 89.00),
('TG1064', 81.00, 70.00, 60.00, 71.00, 60.50, 63.00),
('TG1063', 89.00, 85.00, 76.10, 95.50, 85.60, 76.00),
('TG1067', 91.00, 50.00, 84.00, 80.00, 88.50, 64.00),
('TG1416', 81.00, 89.00, 65.50, 91.50, 85.50, 73.50),
('TG1345', 91.00, 80.50, 90.50, 70.50, 78.00, 70.00),
('TG1418', 90.10, 81.00, 85.50, 76.50, 77.50, 89.50),
('TG1419', 81.00, 88.00, 67.00, 75.10, 98.00, 99.00),
('TG1420', 93.50, 81.40, 82.00, 85.50, 89.50, 78.00),
('TG1421', 71.00, 64.00, 75.70, 85.40, 77.50, 89.00),
('TG1422', 71.60, 95.80, 81.50, 94.50, 91.20, 99.00),
('TG1423', 96.00, 84.30, 84.00, 76.00, 55.00, 68.50),
('TG1424', 70.00, 81.50, 75.50, 86.60, 68.60, 90.50),
('TG1425', 97.40, 73.00, 81.50, 95.50, 78.00, 91.00),
('TG1426', 74.00, 85.50, 73.91, 79.50, 88.50, 88.50),
('TG1427', 86.00, 99.60, 95.52, 93.50, 99.50, 95.80),
('TG901', 78.00, 88.00, 80.00, 85.00, 90.00, 88.00),
('TG997', 85.50, 70.50, 62.50, 78.00, 80.50, 75.50),
('TG998', 75.00, 85.00, 65.00, 75.00, 85.00, 80.00),
('TG999', 80.50, 90.00, 85.00, 85.00, 95.00, 92.00),
('TG1002', 70.00, 75.50, 78.00, 70.00, 80.00, 70.50);


DROP TABLE IF EXISTS ICT1242_course_marks ;

CREATE TABLE ICT1242_course_marks (
student_id varchar(10) NOT NULL,
  quiz_1 decimal(5,2) NOT NULL DEFAULT 0.00,
  quiz_2 decimal(5,2) NOT NULL DEFAULT 0.00,
  quiz_3 decimal(5,2) NOT NULL DEFAULT 0.00,
  inclass_test_marks decimal(5,2) NOT NULL DEFAULT 0.00,
  final_quiz_marks decimal(5,2) GENERATED ALWAYS AS ((quiz_1 + quiz_2 + quiz_3 - least(quiz_1,quiz_2,quiz_3)) / 3 * 0.10) STORED,
  final_assignment_marks decimal(5,2) GENERATED ALWAYS AS (inclass_test_marks * 0.05) STORED,
  mid_exam_marks decimal(5,2) NOT NULL DEFAULT 0.00,
  end_exam_marks decimal(5,2) NOT NULL DEFAULT 0.00,
  CA_total_marks decimal(5,2) GENERATED ALWAYS AS (final_quiz_marks + final_assignment_marks + mid_exam_marks * 0.25) STORED,
  final_marks decimal(5,2) GENERATED ALWAYS AS (final_quiz_marks + final_assignment_marks + mid_exam_marks * 0.25 + end_exam_marks * 0.60) STORED
) ;


INSERT INTO ICT1242_course_marks (student_id, quiz_1, quiz_2, quiz_3, inclass_test_marks, mid_exam_marks, end_exam_marks) VALUES
('TG1067', 90.00, 80.00, 80.00, 85.00, 67.00, 89.00),
('TG1417', 80.00, 80.00, 70.00, 65.00, 87.00, 90.00),
('TG1414', 90.00, 80.00, 80.00, 85.00, 89.00, 76.00),
('TG1415', 60.00, 60.50, 70.50, 85.00, 77.00, 88.00),
('TG1413', 60.80, 80.70, 80.00, 85.00, 90.00, 87.00),
('TG1064', 90.00, 70.00, 80.00, 85.00, 65.00, 78.00),
('TG1063', 50.00, 70.00, 40.00, 85.00, 78.00, 89.00),
('TG1067', 90.00, 80.00, 80.00, 95.00, 57.00, 92.00),
('TG1416', 60.00, 80.00, 70.00, 67.00, 87.00, 77.00),
('TG1345', 95.00, 100.00, 85.00, 100.00, 90.00, 85.00),
('TG1418', 88.00, 90.00, 34.50, 90.00, 75.00, 87.00),
('TG1419', 80.50, 90.50, 65.00, 59.00, 65.00, 58.00),
('TG1420', 88.00, 90.00, 75.50, 80.00, 85.00, 75.00),
('TG1421', 87.00, 90.70, 68.50, 90.00, 85.00, 98.00),
('TG1422', 10.00, 30.00, 20.00, 20.00, 0.00, 0.00),
('TG1423', 78.00, 80.00, 75.00, 90.00, 85.00, 76.00),
('TG1424', 100.00, 90.00, 80.00, 90.00, 85.00, 54.00),
('TG1425', 70.00, 80.00, 60.00, 80.00, 75.00, 73.00),
('TG1426', 100.00, 100.00, 90.00, 90.00, 95.00, 90.00),
('TG1427', 86.00, 99.60, 95.52, 93.50, 99.50, 95.80),
('TG901', 85.00, 75.00, 65.00, 80.00, 85.00, 70.00),
('TG997', 77.00, 65.00, 50.00, 70.00, 80.00, 60.00),
('TG998', 60.00, 70.00, 55.00, 75.00, 68.00, 65.00),
('TG999', 88.00, 85.00, 90.00, 92.00, 95.00, 89.00),
('TG1002', 78.00, 80.00, 70.00, 78.00, 88.00, 79.00);



DROP TABLE IF EXISTS ICT1253_course_marks ;

CREATE TABLE ICT1253_course_marks (
student_id varchar(10) NOT NULL,
  quiz_1 decimal(5,2) NOT NULL DEFAULT 0.00,
  quiz_2 decimal(5,2) NOT NULL DEFAULT 0.00,
  quiz_3 decimal(5,2) NOT NULL DEFAULT 0.00,
  inclass_test_marks decimal(5,2) NOT NULL DEFAULT 0.00,
  final_quiz_marks decimal(5,2) GENERATED ALWAYS AS ((quiz_1 + quiz_2 + quiz_3 - least(quiz_1,quiz_2,quiz_3)) / 3 * 0.10) STORED,
  final_assignment_marks decimal(5,2) GENERATED ALWAYS AS (inclass_test_marks * 0.05) STORED,
  mid_exam_marks decimal(5,2) NOT NULL DEFAULT 0.00,
  end_exam_marks decimal(5,2) NOT NULL DEFAULT 0.00,
  CA_total_marks decimal(5,2) GENERATED ALWAYS AS (final_quiz_marks + final_assignment_marks + mid_exam_marks * 0.25) STORED,
  final_marks decimal(5,2) GENERATED ALWAYS AS (final_quiz_marks + final_assignment_marks + mid_exam_marks * 0.25 + end_exam_marks * 0.60) STORED
) ;




INSERT INTO ICT1253_course_marks (student_id, quiz_1, quiz_2, quiz_3, inclass_test_marks, mid_exam_marks, end_exam_marks) VALUES
('TG1067', 80.00, 80.00, 70.00, 65.00, 87.00, 90.00),
('TG1417', 90.00, 80.00, 80.00, 85.00, 89.00, 76.00),
('TG1414', 60.00, 60.50, 70.50, 85.00, 77.00, 88.00),
('TG1415', 60.80, 80.70, 80.00, 85.00, 90.00, 87.00),
('TG1413', 90.00, 70.00, 80.00, 85.00, 65.00, 78.00),
('TG1064', 50.00, 70.00, 40.00, 85.00, 78.00, 89.00),
('TG1063', 90.00, 80.00, 80.00, 95.00, 57.00, 92.00),
('TG1067', 60.00, 80.00, 70.00, 67.00, 87.00, 77.00),
('TG1416', 95.00, 100.00, 85.00, 100.00, 90.00, 85.00),
('TG1345', 88.00, 90.00, 34.50, 90.00, 75.00, 87.00),
('TG1418', 80.50, 90.50, 65.00, 59.00, 65.00, 58.00),
('TG1419', 88.00, 90.00, 75.50, 80.00, 85.00, 75.00),
('TG1420', 87.00, 90.70, 68.50, 90.00, 85.00, 98.00),
('TG1421', 40.00, 30.00, 20.00, 50.00, 0.00, 10.00),
('TG1422', 79.00, 80.00, 76.00, 90.00, 85.00, 77.00),
('TG1423', 100.00, 90.00, 81.00, 90.00, 85.00, 54.00),
('TG1424', 70.00, 81.00, 60.00, 80.00, 85.00, 83.00),
('TG1425', 100.00, 100.00, 91.00, 90.00, 95.00, 90.50),
('TG1426', 90.00, 87.00, 97.00, 90.06, 95.50, 80.00),
('TG1427', 80.00, 80.00, 70.00, 65.00, 87.00, 90.00),
('TG901', 78.00, 67.00, 50.00, 70.00, 80.00, 65.00),
('TG997', 72.00, 65.00, 55.00, 68.00, 75.00, 60.00),
('TG998', 63.00, 70.00, 50.00, 73.00, 70.00, 68.00),
('TG999', 89.00, 85.00, 90.00, 90.00, 95.00, 88.00),
('TG1002', 77.00, 75.00, 65.00, 80.00, 85.00, 72.00);


DROP TABLE IF EXISTS ICT1261_course_marks ;

CREATE TABLE ICT1261_course_marks (
student_id varchar(10) NOT NULL,
  quiz_1 decimal(5,2) NOT NULL DEFAULT 0.00,
  quiz_2 decimal(5,2) NOT NULL DEFAULT 0.00,
  quiz_3 decimal(5,2) NOT NULL DEFAULT 0.00,
  inclass_test_marks decimal(5,2) NOT NULL DEFAULT 0.00,
  final_quiz_marks decimal(5,2) GENERATED ALWAYS AS ((quiz_1 + quiz_2 + quiz_3 - least(quiz_1,quiz_2,quiz_3)) / 3 * 0.10) STORED,
  final_assignment_marks decimal(5,2) GENERATED ALWAYS AS (inclass_test_marks * 0.05) STORED,
  mid_exam_marks decimal(5,2) NOT NULL DEFAULT 0.00,
  end_exam_marks decimal(5,2) NOT NULL DEFAULT 0.00,
  CA_total_marks decimal(5,2) GENERATED ALWAYS AS (final_quiz_marks + final_assignment_marks + mid_exam_marks * 0.25) STORED,
  final_marks decimal(5,2) GENERATED ALWAYS AS (final_quiz_marks + final_assignment_marks + mid_exam_marks * 0.25 + end_exam_marks * 0.60) STORED
) ;


INSERT INTO ICT1261_course_marks (student_id, quiz_1, quiz_2, quiz_3, inclass_test_marks, mid_exam_marks, end_exam_marks) VALUES
('TG1067', 95.00, 100.00, 89.00, 90.00, 85.00, 90.60),
('TG1417', 89.00, 90.00, 94.50, 75.00, 87.00, 76.80),
('TG1414', 80.50, 90.50, 65.00, 65.00, 58.00, 67.78),
('TG1415', 88.00, 70.00, 75.50, 85.00, 75.00, 78.78),
('TG1413', 67.00, 90.70, 68.50, 85.00, 78.00, 87.98),
('TG1064', 50.00, 50.00, 20.00, 20.00, 50.00, 87.00),
('TG1063', 58.00, 80.00, 65.00, 60.00, 76.00, 78.00),
('TG1067', 90.00, 90.00, 80.00, 85.00, 94.00, 98.00),
('TG1416', 60.00, 70.00, 90.00, 90.00, 80.00, 87.00),
('TG1345', 90.00, 80.00, 80.00, 67.00, 89.00, 87.70),
('TG1418', 80.50, 90.50, 65.00, 59.00, 65.00, 87.90),
('TG1419', 80.00, 80.00, 91.00, 87.50, 90.00, 89.50),
('TG1420', 70.00, 50.50, 90.00, 68.00, 76.00, 67.00),
('TG1421', 50.50, 65.50, 40.70, 67.00, 63.00, 90.00),
('TG1422', 60.80, 80.70, 80.00, 85.00, 87.00, 78.00),
('TG1423', 90.00, 70.00, 80.00, 85.00, 65.00, 89.00),
('TG1424', 70.00, 81.00, 60.00, 85.00, 83.00, 79.00),
('TG1425', 90.00, 80.00, 80.00, 95.00, 72.00, 76.00),
('TG1426', 60.00, 80.00, 70.00, 87.00, 65.00, 86.00),
('TG1427', 95.00, 100.00, 89.00, 90.00, 85.00, 99.00),
('TG901', 88.00, 90.00, 85.00, 80.00, 75.00, 70.00),
('TG997', 77.00, 80.00, 65.00, 70.00, 68.00, 82.00),
('TG998', 69.00, 75.00, 70.00, 80.00, 60.00, 80.00),
('TG999', 95.00, 90.00, 85.00, 90.00, 89.00, 88.00),
('TG1002', 76.00, 85.00, 80.00, 70.00, 78.00, 82.00);


DROP TABLE IF EXISTS ICT1271_course_marks ;

CREATE TABLE ICT1271_course_marks (
student_id varchar(10) NOT NULL,
  quiz_1 decimal(5,2) NOT NULL DEFAULT 0.00,
  quiz_2 decimal(5,2) NOT NULL DEFAULT 0.00,
  quiz_3 decimal(5,2) NOT NULL DEFAULT 0.00,
  inclass_test_marks decimal(5,2) NOT NULL DEFAULT 0.00,
  final_quiz_marks decimal(5,2) GENERATED ALWAYS AS ((quiz_1 + quiz_2 + quiz_3 - least(quiz_1,quiz_2,quiz_3)) / 3 * 0.10) STORED,
  final_assignment_marks decimal(5,2) GENERATED ALWAYS AS (inclass_test_marks * 0.05) STORED,
  mid_exam_marks decimal(5,2) NOT NULL DEFAULT 0.00,
  end_exam_marks decimal(5,2) NOT NULL DEFAULT 0.00,
  CA_total_marks decimal(5,2) GENERATED ALWAYS AS (final_quiz_marks + final_assignment_marks + mid_exam_marks * 0.25) STORED,
  final_marks decimal(5,2) GENERATED ALWAYS AS (final_quiz_marks + final_assignment_marks + mid_exam_marks * 0.25 + end_exam_marks * 0.60) STORED
) ;


INSERT INTO ICT1271_course_marks (student_id, quiz_1, quiz_2, quiz_3, inclass_test_marks, mid_exam_marks, end_exam_marks) VALUES
('TG1067', 95.50, 90.00, 89.00, 90.00, 95.00, 89.90),
('TG1417', 89.50, 90.00, 94.50, 75.00, 87.00, 87.50),
('TG1414', 80.50, 80.50, 65.00, 75.00, 58.50, 76.70),
('TG1415', 88.50, 70.60, 79.50, 95.00, 85.00, 87.90),
('TG1413', 67.60, 90.70, 68.50, 85.00, 78.00, 56.50),
('TG1064', 40.00, 50.50, 70.00, 40.00, 50.00, 67.50),
('TG1063', 58.80, 90.00, 65.50, 65.00, 76.50, 76.50),
('TG1067', 70.00, 90.50, 70.60, 65.00, 94.50, 78.50),
('TG1416', 60.00, 60.00, 90.00, 70.50, 90.00, 78.50),
('TG1345', 90.00, 80.00, 90.00, 67.00, 89.00, 60.50),
('TG1418', 80.60, 70.50, 65.00, 89.00, 65.00, 50.50),
('TG1419', 89.00, 90.00, 44.50, 76.00, 75.00, 76.50),
('TG1420', 80.50, 90.50, 65.00, 59.00, 65.00, 76.50),
('TG1421', 89.00, 80.00, 75.50, 76.50, 95.00, 67.50),
('TG1422', 67.00, 90.70, 68.50, 76.00, 85.00, 70.00),
('TG1423', 58.00, 80.00, 65.00, 80.00, 76.00, 78.90),
('TG1424', 90.00, 90.00, 80.00, 85.00, 94.00, 76.50),
('TG1425', 70.00, 88.00, 60.00, 71.00, 73.00, 78.50),
('TG1426', 90.00, 80.00, 80.00, 90.00, 89.00, 78.80),
('TG1427', 95.50, 90.60, 88.00, 80.50, 89.00, 67.50),
('TG901', 88.00, 90.00, 85.00, 80.00, 75.00, 70.00),
('TG997', 77.00, 80.00, 65.00, 70.00, 68.00, 82.00),
('TG998', 69.00, 75.00, 70.00, 80.00, 60.00, 80.00),
('TG999', 95.00, 90.00, 85.00, 90.00, 89.00, 88.00),
('TG1002', 76.00, 85.00, 80.00, 70.00, 78.00, 82.00);


DROP TABLE IF EXISTS ICT1283_course_marks ;

CREATE TABLE ICT1283_course_marks (
student_id varchar(10) NOT NULL,
  quiz_1 decimal(5,2) NOT NULL DEFAULT 0.00,
  quiz_2 decimal(5,2) NOT NULL DEFAULT 0.00,
  quiz_3 decimal(5,2) NOT NULL DEFAULT 0.00,
  inclass_test_marks decimal(5,2) NOT NULL DEFAULT 0.00,
  final_quiz_marks decimal(5,2) GENERATED ALWAYS AS ((quiz_1 + quiz_2 + quiz_3 - least(quiz_1,quiz_2,quiz_3)) / 3 * 0.10) STORED,
  final_assignment_marks decimal(5,2) GENERATED ALWAYS AS (inclass_test_marks * 0.05) STORED,
  mid_exam_marks decimal(5,2) NOT NULL DEFAULT 0.00,
  end_exam_marks decimal(5,2) NOT NULL DEFAULT 0.00,
  CA_total_marks decimal(5,2) GENERATED ALWAYS AS (final_quiz_marks + final_assignment_marks + mid_exam_marks * 0.25) STORED,
  final_marks decimal(5,2) GENERATED ALWAYS AS (final_quiz_marks + final_assignment_marks + mid_exam_marks * 0.25 + end_exam_marks * 0.60) STORED
) ;



INSERT INTO ICT1283_course_marks (student_id, quiz_1, quiz_2, quiz_3, inclass_test_marks, mid_exam_marks, end_exam_marks) VALUES
('TG1067', 95.50, 90.00, 89.00, 100.00, 90.00, 85.00),
('TG1417', 89.50, 90.00, 94.50, 86.00, 99.60, 95.52),
('TG1414', 80.50, 80.50, 65.00, 90.00, 85.00, 98.00),
('TG1415', 88.50, 70.60, 79.50, 100.00, 90.00, 85.00),
('TG1413', 67.60, 90.70, 68.50, 20.00, 0.00, 0.00),
('TG1064', 40.00, 50.50, 70.00, 65.00, 87.00, 90.00),
('TG1063', 58.80, 90.00, 65.50, 60.00, 73.00, 60.00),
('TG1067', 70.00, 90.50, 70.60, 90.00, 80.00, 90.00),
('TG1416', 60.00, 60.00, 90.00, 67.00, 89.00, 67.00),
('TG1345', 90.00, 80.00, 90.00, 87.00, 90.00, 87.00),
('TG1418', 80.60, 70.50, 65.00, 69.00, 76.00, 69.00),
('TG1419', 89.00, 90.00, 44.50, 67.00, 63.00, 67.00),
('TG1420', 80.50, 90.50, 65.00, 85.00, 87.00, 85.00),
('TG1421', 89.00, 80.00, 75.50, 70.00, 80.00, 60.80),
('TG1422', 67.00, 60.00, 70.00, 90.00, 76.00, 85.00),
('TG1423', 65.00, 87.00, 90.00, 65.00, 80.00, 76.00),
('TG1424', 90.00, 90.00, 90.00, 44.50, 76.00, 94.00),
('TG1425', 70.00, 88.00, 60.00, 85.00, 75.00, 85.00),
('TG1426', 90.00, 80.00, 80.00, 90.70, 68.50, 76.00),
('TG1427', 95.50, 90.60, 88.00, 94.00, 85.00, 94.00),
('TG901', 88.00, 90.00, 85.00, 80.00, 75.00, 70.00),
('TG997', 77.00, 80.00, 65.00, 70.00, 68.00, 82.00),
('TG998', 69.00, 75.00, 70.00, 80.00, 60.00, 80.00),
('TG999', 95.00, 90.00, 85.00, 90.00, 89.00, 88.00),
('TG1002', 76.00, 85.00, 80.00, 70.00, 78.00, 82.00);


DROP TABLE IF EXISTS ICT1293_course_marks ;

CREATE TABLE ICT1293_course_marks (
student_id varchar(10) NOT NULL,
  quiz_1 decimal(5,2) NOT NULL DEFAULT 0.00,
  quiz_2 decimal(5,2) NOT NULL DEFAULT 0.00,
  quiz_3 decimal(5,2) NOT NULL DEFAULT 0.00,
  inclass_test_marks decimal(5,2) NOT NULL DEFAULT 0.00,
  final_quiz_marks decimal(5,2) GENERATED ALWAYS AS ((quiz_1 + quiz_2 + quiz_3 - least(quiz_1,quiz_2,quiz_3)) / 3 * 0.10) STORED,
  final_assignment_marks decimal(5,2) GENERATED ALWAYS AS (inclass_test_marks * 0.05) STORED,
  mid_exam_marks decimal(5,2) NOT NULL DEFAULT 0.00,
  end_exam_marks decimal(5,2) NOT NULL DEFAULT 0.00,
  CA_total_marks decimal(5,2) GENERATED ALWAYS AS (final_quiz_marks + final_assignment_marks + mid_exam_marks * 0.25) STORED,
  final_marks decimal(5,2) GENERATED ALWAYS AS (final_quiz_marks + final_assignment_marks + mid_exam_marks * 0.25 + end_exam_marks * 0.60) STORED
) ;


INSERT INTO ICT1293_course_marks (student_id, quiz_1, quiz_2, quiz_3, inclass_test_marks, mid_exam_marks, end_exam_marks) VALUES
('TG1067', 95.50, 90.00, 85.00, 90.00, 90.00, 85.00),
('TG1417', 89.50, 95.00, 100.00, 89.00, 99.60, 95.52),
('TG1414', 80.50, 90.00, 44.50, 76.00, 85.00, 98.00),
('TG1415', 88.50, 70.60, 90.50, 65.00, 59.00, 85.00),
('TG1413', 67.60, 50.00, 50.00, 20.00, 0.00, 0.00),
('TG1064', 40.00, 50.50, 70.00, 50.00, 50.00, 20.00),
('TG1063', 58.80, 90.00, 65.00, 80.00, 60.00, 60.00),
('TG1416', 60.00, 60.00, 80.00, 60.00, 70.00, 67.00),
('TG1345', 90.00, 80.00, 60.00, 70.00, 90.00, 87.00),
('TG1418', 80.60, 65.50, 40.70, 55.00, 76.00, 69.00),
('TG1419', 89.00, 90.00, 44.50, 65.50, 40.70, 55.00),
('TG1420', 80.50, 90.50, 65.00, 85.00, 87.00, 85.00),
('TG1421', 65.50, 40.70, 55.00, 70.00, 80.00, 60.80),
('TG1422', 67.00, 44.50, 76.00, 75.00, 76.00, 85.00),
('TG1423', 65.00, 87.00, 65.00, 59.00, 65.00, 76.00),
('TG1424', 90.00, 75.50, 86.50, 85.00, 76.00, 94.00),
('TG1425', 70.00, 88.00, 20.00, 26.00, 20.00, 85.00),
('TG1426', 90.00, 80.00, 65.00, 80.00, 68.50, 76.00),
('TG1427', 95.50, 90.60, 90.00, 80.00, 80.00, 94.00),
('TG901', 88.00, 90.00, 85.50, 75.00, 80.00, 82.50),
('TG997', 92.50, 89.00, 91.00, 80.00, 85.00, 88.00),
('TG998', 78.00, 85.50, 80.00, 70.00, 72.50, 74.00),
('TG999', 85.00, 95.00, 88.00, 90.00, 93.00, 91.00),
('TG1002', 80.00, 82.00, 85.00, 77.00, 79.00, 81.00);


DROP TABLE IF EXISTS ICT12101_course_marks ;

CREATE TABLE ICT12101_course_marks (
student_id varchar(10) NOT NULL,
  quiz_1 decimal(5,2) NOT NULL DEFAULT 0.00,
  quiz_2 decimal(5,2) NOT NULL DEFAULT 0.00,
  quiz_3 decimal(5,2) NOT NULL DEFAULT 0.00,
  inclass_test_marks decimal(5,2) NOT NULL DEFAULT 0.00,
  final_quiz_marks decimal(5,2) GENERATED ALWAYS AS ((quiz_1 + quiz_2 + quiz_3 - least(quiz_1,quiz_2,quiz_3)) / 3 * 0.10) STORED,
  final_assignment_marks decimal(5,2) GENERATED ALWAYS AS (inclass_test_marks * 0.05) STORED,
  mid_exam_marks decimal(5,2) NOT NULL DEFAULT 0.00,
  end_exam_marks decimal(5,2) NOT NULL DEFAULT 0.00,
  CA_total_marks decimal(5,2) GENERATED ALWAYS AS (final_quiz_marks + final_assignment_marks + mid_exam_marks * 0.25) STORED,
  final_marks decimal(5,2) GENERATED ALWAYS AS (final_quiz_marks + final_assignment_marks + mid_exam_marks * 0.25 + end_exam_marks * 0.60) STORED
) ;

INSERT INTO ICT12101_course_marks (student_id, quiz_1, quiz_2, quiz_3, inclass_test_marks, mid_exam_marks, end_exam_marks) VALUES
('TG1062', 88.00, 90.00, 85.00, 80.00, 75.00, 88.00),
('TG1063', 92.50, 85.00, 90.00, 89.00, 95.00, 91.00),
('TG1064', 75.00, 80.00, 78.00, 70.00, 72.00, 74.00),
('TG1414', 90.00, 86.00, 80.00, 80.00, 75.00, 85.00),
('TG1413', 60.00, 70.00, 65.00, 55.00, 60.00, 68.00),
('TG1345', 82.00, 88.00, 90.00, 85.00, 80.00, 83.00),
('TG1067', 100.00, 89.00, 80.00, 90.00, 85.00, 90.00),
('TG1415', 88.00, 78.00, 75.50, 88.50, 85.00, 95.00),
('TG1417', 99.50,  98.00, 100.00, 89.50, 98.60, 99.52),
('TG1416', 60.50, 81.00, 80.00, 60.70, 70.00, 77.00),
('TG1418', 70.00, 50.50, 90.00, 85.00, 69.00, 76.00),
('TG1419', 89.00, 90.00, 44.50, 65.50, 40.70, 55.00),
('TG1420', 60.80, 80.70, 80.00, 90.00, 85.00, 87.00),
('TG1421', 90.00, 70.00, 80.00, 60.80, 85.00, 65.00),
('TG1422',  50.00, 70.00, 40.00, 80.00, 85.00, 78.00),
('TG1423', 60.00, 80.00, 70.00, 50.00, 87.00, 65.00),
('TG1424',  95.00, 100.00, 89.00, 80.00, 90.00, 85.00),
('TG1425', 67.00, 90.70, 68.50, 76.00, 85.00, 78.00),
('TG1426', 90.00, 90.00, 80.00, 80.00, 75.00, 94.00),
('TG1427', 70.00, 80.00, 60.00, 70.00, 60.00, 73.00),
('TG901', 85.00, 88.00, 90.00, 78.00, 80.00, 85.00),
('TG997', 92.00, 90.00, 95.00, 88.00, 89.00, 90.00),
('TG998', 75.00, 80.00, 70.00, 65.00, 70.00, 75.00),
('TG999', 88.50, 87.00, 85.00, 90.00, 92.00, 88.00),
('TG1002', 90.00, 92.50, 89.00, 95.00, 91.00, 90.00);



DROP TABLE IF EXISTS `student_grade`;
CREATE TABLE IF NOT EXISTS `student_grade` (
  `student_id` char(10) NOT NULL,
  `course_id` char(10) NOT NULL,
  `final_marks` decimal(5,2) NOT NULL,
  `grade` varchar(5) GENERATED ALWAYS AS (
    (CASE
      WHEN (`final_marks` < 0) THEN 'MC'
      WHEN (`final_marks` >= 90) THEN 'A+'
      WHEN (`final_marks` >= 85) THEN 'A'
      WHEN (`final_marks` >= 80) THEN 'A-'
      WHEN (`final_marks` >= 75) THEN 'B+'
      WHEN (`final_marks` >= 70) THEN 'B'
      WHEN (`final_marks` >= 65) THEN 'B-'
      WHEN (`final_marks` >= 60) THEN 'C+'
      WHEN (`final_marks` >= 55) THEN 'C'
      WHEN (`final_marks` >= 50) THEN 'C-'
      WHEN (`final_marks` >= 45) THEN 'D'
      ELSE 'E'
    END)
  ) VIRTUAL,
  `SGPA` decimal(3,2) GENERATED ALWAYS AS (
    (CASE
      WHEN (`grade` = 'A+' OR `grade` = 'A') THEN 4.00
      WHEN (`grade` = 'A-') THEN 3.70
      WHEN (`grade` = 'B+') THEN 3.30
      WHEN (`grade` = 'B') THEN 3.00
      WHEN (`grade` = 'B-') THEN 2.70
      WHEN (`grade` = 'C+') THEN 2.30
      WHEN (`grade` = 'C') THEN 2.00
      WHEN (`grade` = 'C-') THEN 1.70
      WHEN (`grade` = 'D') THEN 1.00
      WHEN (`grade` = 'E') THEN 0.00
    END)
  )
##KEY `student_id` (`student_id`),
 ## KEY `course_id` (`course_id`),
 ## CONSTRAINT `student_grade_ibfk_1` FOREIGN KEY (`student_id`) REFERENCES `student` (`student_id`),
 ## CONSTRAINT `student_grade_ibfk_2` FOREIGN KEY (`course_id`) REFERENCES `course` (`course_id`)  -- Changed couId to course_id
);
 ##ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;



DROP PROCEDURE IF EXISTS InsertStudentGrades_ICT1213;
DELIMITER //


## GET VALUE FROM  ICT1213_course_marks table
##SART

CREATE PROCEDURE InsertStudentGrades_ICT1213()
BEGIN
    DECLARE done INT DEFAULT FALSE;
    DECLARE student_id_char CHAR(6);
    DECLARE final_marks_value DECIMAL(5,2);

    DECLARE student_cursor CURSOR FOR
        SELECT student_id, final_marks FROM ICT1213_course_marks;
    DECLARE CONTINUE HANDLER FOR NOT FOUND SET done = TRUE;

    OPEN student_cursor;

    read_loop: LOOP
        FETCH student_cursor INTO student_id_char, final_marks_value;
        IF done THEN
            LEAVE read_loop;
        END IF;
        INSERT INTO student_grade (student_id, course_id, final_marks)
        VALUES (student_id_char, 'ICT1213', final_marks_value);
    END LOOP;

    CLOSE student_cursor;
END //

##END

DROP PROCEDURE IF EXISTS InsertStudentGrades_ICT1222;
## GET VALUE FROM  ICT1222_course_marks table
DELIMITER //
CREATE PROCEDURE InsertStudentGrades_ICT1222()
BEGIN
    DECLARE done INT DEFAULT FALSE;
    DECLARE student_id_char CHAR(6);
    DECLARE final_marks_value DECIMAL(5,2);

    DECLARE student_cursor CURSOR FOR
        SELECT student_id, final_marks FROM ICT1222_course_marks;
    DECLARE CONTINUE HANDLER FOR NOT FOUND SET done = TRUE;

    OPEN student_cursor;

    read_loop: LOOP
        FETCH student_cursor INTO student_id_char, final_marks_value;
        IF done THEN
            LEAVE read_loop;
        END IF;
        INSERT INTO student_grade (student_id, course_id, final_marks)
        VALUES (student_id_char, 'ICT1222', final_marks_value);
    END LOOP;

    CLOSE student_cursor;
END //


##   GET VALUE FROM  ICT1233_course_marks table
DROP PROCEDURE IF EXISTS InsertStudentGrades_ICT1233;
DELIMITER //
CREATE PROCEDURE InsertStudentGrades_ICT1233()
BEGIN
    DECLARE done INT DEFAULT FALSE;
    DECLARE student_id_char CHAR(6);
    DECLARE final_marks_value DECIMAL(5,2);

    DECLARE student_cursor CURSOR FOR
        SELECT student_id, final_marks FROM ICT1233_course_marks;
    DECLARE CONTINUE HANDLER FOR NOT FOUND SET done = TRUE;

    OPEN student_cursor;

    read_loop: LOOP
        FETCH student_cursor INTO student_id_char, final_marks_value;
        IF done THEN
            LEAVE read_loop;
        END IF;
        INSERT INTO student_grade (student_id, course_id, final_marks)
        VALUES (student_id_char, 'ICT1233', final_marks_value);
    END LOOP;

    CLOSE student_cursor;
END //




##   GET VALUE FROM  ICT1242_course_marks table
DROP PROCEDURE IF EXISTS InsertStudentGrades_ICT1242;
DELIMITER //
CREATE PROCEDURE InsertStudentGrades_ICT1242()
BEGIN
    DECLARE done INT DEFAULT FALSE;
    DECLARE student_id_char CHAR(6);
    DECLARE final_marks_value DECIMAL(5,2);

    DECLARE student_cursor CURSOR FOR
        SELECT student_id, final_marks FROM ICT1242_course_marks;
    DECLARE CONTINUE HANDLER FOR NOT FOUND SET done = TRUE;

    OPEN student_cursor;

    read_loop: LOOP
        FETCH student_cursor INTO student_id_char, final_marks_value;
        IF done THEN
            LEAVE read_loop;
        END IF;
        INSERT INTO student_grade (student_id, course_id, final_marks)
        VALUES (student_id_char, 'ICT1242', final_marks_value);
    END LOOP;

    CLOSE student_cursor;
END //





##   GET VALUE FROM  ICT1253_course_marks table
DROP PROCEDURE IF EXISTS InsertStudentGrades_ICT1253;
DELIMITER //
CREATE PROCEDURE InsertStudentGrades_ICT1253()
BEGIN
    DECLARE done INT DEFAULT FALSE;
    DECLARE student_id_char CHAR(6);
    DECLARE final_marks_value DECIMAL(5,2);

    DECLARE student_cursor CURSOR FOR
        SELECT student_id, final_marks FROM ICT1253_course_marks;
    DECLARE CONTINUE HANDLER FOR NOT FOUND SET done = TRUE;

    OPEN student_cursor;

    read_loop: LOOP
        FETCH student_cursor INTO student_id_char, final_marks_value;
        IF done THEN
            LEAVE read_loop;
        END IF;
        INSERT INTO student_grade (student_id, course_id, final_marks)
        VALUES (student_id_char, 'ICT1253', final_marks_value);
    END LOOP;

    CLOSE student_cursor;
END //



##   GET VALUE FROM  ICT1261_course_marks table
DROP PROCEDURE IF EXISTS InsertStudentGrades_ICT1261;
DELIMITER //
CREATE PROCEDURE InsertStudentGrades_ICT1261()
BEGIN
    DECLARE done INT DEFAULT FALSE;
    DECLARE student_id_char CHAR(6);
    DECLARE final_marks_value DECIMAL(5,2);

    DECLARE student_cursor CURSOR FOR
        SELECT student_id, final_marks FROM ICT1261_course_marks;
    DECLARE CONTINUE HANDLER FOR NOT FOUND SET done = TRUE;

    OPEN student_cursor;

    read_loop: LOOP
        FETCH student_cursor INTO student_id_char, final_marks_value;
        IF done THEN
            LEAVE read_loop;
        END IF;
        INSERT INTO student_grade (student_id, course_id, final_marks)
        VALUES (student_id_char, 'ICT1261', final_marks_value);
    END LOOP;

    CLOSE student_cursor;
END //


DROP PROCEDURE IF EXISTS InsertStudentGrades_ICT1293;

##   GET VALUE FROM  ICT1293_course_marks table

DELIMITER //
CREATE PROCEDURE InsertStudentGrades_ICT1293()
BEGIN
    DECLARE done INT DEFAULT FALSE;
    DECLARE student_id_char CHAR(6);
    DECLARE final_marks_value DECIMAL(5,2);

    DECLARE student_cursor CURSOR FOR
        SELECT student_id, final_marks FROM ICT1293_course_marks;
    DECLARE CONTINUE HANDLER FOR NOT FOUND SET done = TRUE;

    OPEN student_cursor;

    read_loop: LOOP
        FETCH student_cursor INTO student_id_char, final_marks_value;
        IF done THEN
            LEAVE read_loop;
        END IF;
        INSERT INTO student_grade (student_id, course_id, final_marks)
        VALUES (student_id_char, 'ICT1293', final_marks_value);
    END LOOP;

    CLOSE student_cursor;
END //



##   GET VALUE FROM  ICT1283_course_marks  table
DROP PROCEDURE IF EXISTS InsertStudentGrades_ICT1283;
DELIMITER //
CREATE PROCEDURE InsertStudentGrades_ICT1283()
BEGIN
    DECLARE done INT DEFAULT FALSE;
    DECLARE student_id_char CHAR(6);
    DECLARE final_marks_value DECIMAL(5,2);

    DECLARE student_cursor CURSOR FOR
        SELECT student_id, final_marks FROM ICT1283_course_marks;
    DECLARE CONTINUE HANDLER FOR NOT FOUND SET done = TRUE;

    OPEN student_cursor;

    read_loop: LOOP
        FETCH student_cursor INTO student_id_char, final_marks_value;
        IF done THEN
            LEAVE read_loop;
        END IF;
        INSERT INTO student_grade (student_id, course_id, final_marks)
        VALUES (student_id_char, 'ICT1283', final_marks_value);
    END LOOP;

    CLOSE student_cursor;
END //



##   GET VALUE FROM  ICT1271_course_marks  table
DROP PROCEDURE IF EXISTS InsertStudentGrades_ICT1271;
DELIMITER //
CREATE PROCEDURE InsertStudentGrades_ICT1271()
BEGIN
    DECLARE done INT DEFAULT FALSE;
    DECLARE student_id_char CHAR(6);
    DECLARE final_marks_value DECIMAL(5,2);

    DECLARE student_cursor CURSOR FOR
        SELECT student_id, final_marks FROM ICT1271_course_marks;
    DECLARE CONTINUE HANDLER FOR NOT FOUND SET done = TRUE;

    OPEN student_cursor;

    read_loop: LOOP
        FETCH student_cursor INTO student_id_char, final_marks_value;
        IF done THEN
            LEAVE read_loop;
        END IF;
        INSERT INTO student_grade (student_id, course_id, final_marks)
        VALUES (student_id_char, 'ICT1271', final_marks_value);
    END LOOP;

    CLOSE student_cursor;
END //




##   GET VALUE FROM  ICT12101_course_marks  table
DROP PROCEDURE IF EXISTS InsertStudentGrades_ICT12101;
DELIMITER //
CREATE PROCEDURE InsertStudentGrades_ICT12101()
BEGIN
    DECLARE done INT DEFAULT FALSE;
    DECLARE student_id_char CHAR(6);
    DECLARE final_marks_value DECIMAL(5,2);

    DECLARE student_cursor CURSOR FOR
        SELECT student_id, final_marks FROM ICT12101_course_marks;
    DECLARE CONTINUE HANDLER FOR NOT FOUND SET done = TRUE;

    OPEN student_cursor;

    read_loop: LOOP
        FETCH student_cursor INTO student_id_char, final_marks_value;
        IF done THEN
            LEAVE read_loop;
        END IF;
        INSERT INTO student_grade (student_id, course_id, final_marks)
        VALUES (student_id_char, 'ICT12101', final_marks_value);
    END LOOP;

    CLOSE student_cursor;
END //
DELIMITER ;


CALL InsertStudentGrades_ICT12101();
CALL InsertStudentGrades_ICT1271();
CALL InsertStudentGrades_ICT1283();
CALL InsertStudentGrades_ICT1293();
CALL InsertStudentGrades_ICT1261();
CALL InsertStudentGrades_ICT1253();
CALL InsertStudentGrades_ICT1242();
CALL InsertStudentGrades_ICT1283();
CALL InsertStudentGrades_ICT1271();
CALL InsertStudentGrades_ICT12101();


SELECT * FROM `student_grade`;

SHOW COLUMNS FROM student;
SHOW COLUMNS FROM student_grade;



SELECT * FROM `course`;


#ALTER TABLE `student_grade`
#MODIFY COLUMN `student_id` CHAR(6) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NOT NULL;

#ALTER TABLE `student_grade`
#MODIFY COLUMN `course_id` CHAR(8) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NOT NULL;
#ALTER TABLE `student_grade`
#ADD CONSTRAINT `fk_course_gread_student`
#FOREIGN KEY (`student_id`) REFERENCES `student`(`student_id`);

select   * from `student_grade`;

ALTER TABLE student_grade
MODIFY COLUMN student_id CHAR(10) NOT NULL;

ALTER TABLE student_grade
MODIFY COLUMN student_id CHAR(10) CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci NOT NULL;

/*SELECT student_id
FROM `student_grade`
WHERE student_id NOT IN (SELECT student_id FROM `student`);*/

SELECT * FROM `student_grade`;

ALTER TABLE student_grade
ADD CONSTRAINT fk_course_grade_student FOREIGN KEY (student_id) REFERENCES student(student_id);



DROP TABLE IF EXISTS Student_Performance;
CREATE TABLE Student_Performance (
    student_id VARCHAR(12) NOT NULL,
    semester_no INT,
    SGPA DECIMAL(3,2),
    CGPA DECIMAL(3,2),
    GPA DECIMAL(3,2),
    PRIMARY KEY (student_id, semester_no)
);

SELECT * FROM Student_Performance;

INSERT INTO Student_Performance (student_id, semester_no,SGPA, CGPA, GPA)
SELECT
    sg.student_id,
    1 AS semester_no,
    (SUM(c.`credit` * CASE
        WHEN sg.Final_marks >= 90 THEN 4.00
        WHEN sg.Final_marks >= 85 THEN 3.70
        WHEN sg.Final_marks >= 80 THEN 3.30
        WHEN sg.Final_marks >= 75 THEN 3.00
        WHEN sg.Final_marks >= 70 THEN 2.70
        WHEN sg.Final_marks >= 65 THEN 2.30
        WHEN sg.Final_marks >= 60 THEN 2.00
        WHEN sg.Final_marks >= 55 THEN 1.70
        WHEN sg.Final_marks >= 50 THEN 1.30
        WHEN sg.Final_marks >= 45 THEN 1.00
        ELSE 0.00
    END) / NULLIF(SUM(c.credit), 0)) AS SGPA,
    NULL AS CGPA,
    NULL AS GPA
FROM
    student_grade AS sg
JOIN
    course AS c ON sg.course_id = c.course_id
GROUP BY
    sg.student_id;

SELECT * FROM `student_grade`;

SET SQL_SAFE_UPDATES = 0;


UPDATE Student_Performance AS sp
JOIN (
    SELECT
        student_id,
        AVG(SGPA) AS Avg_CGPA
    FROM
        Student_Performance
    GROUP BY
        student_id
) AS avg_cgpa ON sp.student_id = avg_cgpa.student_id
SET sp.CGPA = avg_cgpa.Avg_CGPA;

SET SQL_SAFE_UPDATES = 1;





SET SQL_SAFE_UPDATES = 0;
UPDATE Student_Performance sp
JOIN (
    SELECT
        student_id,
        AVG(SGPA) AS avg_full_sgpa
    FROM
        Student_Performance
    GROUP BY
        student_id
) AS avg_sp ON sp.student_id = avg_sp.student_id
SET sp.GPA = avg_sp.avg_full_sgpa;
SET SQL_SAFE_UPDATES = 1;



DELIMITER //
CREATE PROCEDURE VIEW_STUDENT_GRADES_AS_BATCH(IN batch CHAR(4))
BEGIN
    SELECT sg.*
    FROM `student_grade` sg
    JOIN `student` s ON sg.`student_id` = s.`student_id`
    WHERE s.`batch` = batch;
END //
DELIMITER ;

## get proper student grads
CALL VIEW_STUDENT_GRADES_AS_BATCH('2022');


## get repeat student grads
CALL VIEW_STUDENT_GRADES_AS_BATCH('2021');


#### get GetStudentDetailsByBatch  student grads AND detalis
DELIMITER //
CREATE PROCEDURE GetStudentDetailsByBatch(
    IN batch CHAR(4)
)
BEGIN
    SELECT
        S.student_id,
        S.name AS StudentName,
        COALESCE(
            CASE
                WHEN (SELECT grade FROM `student_grade` WHERE Course_id = 'ENG1222' AND student_id = S.student_id) IS NULL THEN 'No Repeat'
                WHEN (SELECT grade FROM `student_grade` WHERE Course_id = 'ENG1222' AND student_id = S.student_id) IN ('C', 'C+') THEN (SELECT grade FROM `student_grade` WHERE Course_id = 'ENG1222' AND student_id = S.student_id)
                ELSE 'C+'
            END, 'No Repeat'
        ) AS ENG1222,
        COALESCE(
            CASE
                WHEN (SELECT grade FROM `student_grade` WHERE Course_id = 'ICT1212' AND student_id = S.student_id) IS NULL THEN 'No Repeat'
                WHEN (SELECT grade FROM `student_grade` WHERE Course_id = 'ICT1212' AND student_id = S.student_id) IN ('C', 'C+') THEN (SELECT grade FROM `student_grade` WHERE Course_id = 'ICT1212' AND student_id = S.student_id)
                ELSE 'C+'
            END, 'No Repeat'
        ) AS ICT1212,
        COALESCE(
            CASE
                WHEN (SELECT grade FROM `student_grade` WHERE Course_id = 'ICT1222' AND student_id = S.student_id) IS NULL THEN 'No Repeat'
                WHEN (SELECT grade FROM `student_grade` WHERE Course_id = 'ICT1222' AND student_id = S.student_id) IN ('C', 'C+') THEN (SELECT grade FROM `student_grade` WHERE Course_id = 'ICT1222' AND student_id = S.student_id)
                ELSE 'C+'
            END, 'No Repeat'
        ) AS ICT1222,
        COALESCE(
            CASE
                WHEN (SELECT grade FROM `student_grade` WHERE Course_id = 'ICT1233' AND student_id = S.student_id) IS NULL THEN 'No Repeat'
                WHEN (SELECT grade FROM `student_grade` WHERE Course_id = 'ICT1233' AND student_id = S.student_id) IN ('C', 'C+') THEN (SELECT grade FROM `student_grade` WHERE Course_id = 'ICT1233' AND student_id = S.student_id)
                ELSE 'C+'
            END, 'No Repeat'
        ) AS ICT1233,
        COALESCE(
            CASE
                WHEN (SELECT grade FROM `student_grade` WHERE Course_id = 'ICT1242' AND student_id = S.student_id) IS NULL THEN 'No Repeat'
                WHEN (SELECT grade FROM `student_grade` WHERE Course_id = 'ICT1242' AND student_id = S.student_id) IN ('C', 'C+') THEN (SELECT grade FROM `student_grade` WHERE Course_id = 'ICT1242' AND student_id = S.student_id)
                ELSE 'C+'
            END, 'No Repeat'
        ) AS ICT1242,
        COALESCE(
            CASE
                WHEN (SELECT grade FROM `student_grade` WHERE Course_id = 'ICT1253' AND student_id = S.student_id) IS NULL THEN 'No Repeat'
                WHEN (SELECT grade FROM `student_grade` WHERE Course_id = 'ICT1253' AND student_id = S.student_id) IN ('C', 'C+') THEN (SELECT grade FROM `student_grade` WHERE Course_id = 'ICT1253' AND student_id = S.student_id)
                ELSE 'C+'
            END, 'No Repeat'
        ) AS ICT1253,
        COALESCE(
            CASE
                WHEN (SELECT grade FROM `student_grade` WHERE Course_id = 'TCS1212' AND student_id = S.student_id) IS NULL THEN 'No Repeat'
                WHEN (SELECT grade FROM `student_grade` WHERE Course_id = 'TCS1212' AND student_id = S.student_id) IN ('C', 'C+') THEN (SELECT grade FROM `student_grade` WHERE Course_id = 'TCS1212' AND student_id = S.student_id)
                ELSE 'C+'
            END, 'No Repeat'
        ) AS TCS1212,
        COALESCE(
            CASE
                WHEN (SELECT grade FROM `student_grade` WHERE Course_id = 'TMS1233' AND student_id = S.student_id) IS NULL THEN 'No Repeat'
                WHEN (SELECT grade FROM `student_grade` WHERE Course_id = 'TMS1233' AND student_id = S.student_id) IN ('C', 'C+') THEN (SELECT grade FROM `student_grade` WHERE Course_id = 'TMS1233' AND student_id = S.student_id)
                ELSE 'C+'
            END, 'No Repeat'
        ) AS TMS1233,
        SP.SGPA,
        SP.CGPA
    FROM
        `student` AS S
    JOIN
        Student_Performance AS SP ON S.student_id = SP.student_id
    WHERE
        S.batch = batch;
END //

DELIMITER ;


CALL GetStudentDetailsByBatch('2021');
# repeat student


ALTER TABLE `user`
MODIFY COLUMN `NIC` CHAR(12) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NOT NULL;

ALTER TABLE `lecturer`
MODIFY COLUMN `NIC` CHAR(12) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci;


ALTER TABLE `lecturer`
ADD CONSTRAINT `fk_lecturer_user`
FOREIGN KEY (`NIC`) REFERENCES `user`(`NIC`)
ON DELETE CASCADE
ON UPDATE CASCADE;




ALTER TABLE `admin`
MODIFY COLUMN `NIC` CHAR(12) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci;

ALTER TABLE `admin`
ADD CONSTRAINT `fk_admin_user`
FOREIGN KEY (`NIC`) REFERENCES `user`(`NIC`)
ON DELETE CASCADE
ON UPDATE CASCADE;


ALTER TABLE `dean`
MODIFY COLUMN `NIC` CHAR(12) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci;

ALTER TABLE `dean`
ADD CONSTRAINT `fk_dean_user`
FOREIGN KEY (`NIC`) REFERENCES `user`(`NIC`)
ON DELETE CASCADE
ON UPDATE CASCADE;


ALTER TABLE `technical_Officer`
MODIFY COLUMN `NIC` CHAR(12) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci;

ALTER TABLE `technical_Officer`
ADD CONSTRAINT `fk_technical_Officer_user`
FOREIGN KEY (`NIC`) REFERENCES `user`(`NIC`)
ON DELETE CASCADE
ON UPDATE CASCADE;


ALTER TABLE `student`
MODIFY COLUMN `NIC` CHAR(12) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci;

ALTER TABLE `student`
ADD CONSTRAINT `fk_technical_student_user`
FOREIGN KEY (`NIC`) REFERENCES `user`(`NIC`)
ON DELETE CASCADE
ON UPDATE CASCADE;
##END







-- create  function show cource data
DROP PROCEDURE IF EXISTS showALLCourses;
DELIMITER //

CREATE PROCEDURE showALLCourses()
BEGIN
    SELECT * FROM `course`;
END //

DELIMITER ;


CALL showALLCourses();
-- SELECT * FROM  CourceName;


-- create view for courceID , cource Name


CREATE VIEW CourceName AS
SELECT `course_id` AS ID , `name` AS  course FROM `course`;

-- SELECT * FROM  CourceName;

-- SHOW ALL DATA FROM  Database_management_system marks

CREATE VIEW `get_databaseManagementSystemMarks` AS
SELECT student_id AS `TG NUMBER` ,
quiz_1 AS `QUIZ ONE` ,
quiz_2 AS `QUIZ TWO`,
quiz_3 AS `QUIZ THREE`,
inclass_test_marks AS `IN CLASS TEST`,
mid_exam_marks AS `MID EXAM`,
end_exam_marks AS `END EXAM`
FROM ICT1213_course_marks;

-- SELECT * FROM `get_databaseManagementSystemMarks`;




-- get all data from computer_architecture marks

CREATE VIEW `get_Computer_architectureMarks` AS
SELECT student_id AS `TG NUMBER` ,
quiz_1 AS `QUIZ ONE` ,
quiz_2 AS `QUIZ TWO`,
quiz_3 AS `QUIZ THREE`,
inclass_test_marks AS `IN CLASS TEST`,
mid_exam_marks AS `MID EXAM`,
end_exam_marks AS `END EXAM`
FROM ICT1222_course_marks;


-- SELECT * FROM `get_Computer_architectureMarks`;

-- get all data from network subject marks
CREATE VIEW `get_Computer_networkMarks` AS
SELECT student_id AS `TG NUMBER` ,
quiz_1 AS `QUIZ ONE` ,
quiz_2 AS `QUIZ TWO`,
quiz_3 AS `QUIZ THREE`,
inclass_test_marks AS `IN CLASS TEST`,
mid_exam_marks AS `MID EXAM`,
end_exam_marks AS `END EXAM`
FROM ICT1233_course_marks;

-- SELECT * FROM `get_Computer_networkMarks`;


-- get all data from Server side web development marks
CREATE VIEW `get_Server_side_web_developmentMarks` AS
SELECT student_id AS `TG NUMBER` ,
quiz_1 AS `QUIZ ONE` ,
quiz_2 AS `QUIZ TWO`,
quiz_3 AS `QUIZ THREE`,
inclass_test_marks AS `IN CLASS TEST`,
mid_exam_marks AS `MID EXAM`,
end_exam_marks AS `END EXAM`
FROM ICT1242_course_marks;

-- SELECT * FROM `get_Server_side_web_developmentMarks`;

-- get all data from Computer_programing marks

CREATE VIEW `get_Computer_programingMarks` AS
SELECT student_id AS `TG NUMBER` ,
quiz_1 AS `QUIZ ONE` ,
quiz_2 AS `QUIZ TWO`,
quiz_3 AS `QUIZ THREE`,
inclass_test_marks AS `IN CLASS TEST`,
mid_exam_marks AS `MID EXAM`,
end_exam_marks AS `END EXAM`
FROM ICT1253_course_marks;

-- SELECT * FROM `get_Computer_programingMarks`;



-- get all data from Muiltimedia_technology marks

CREATE VIEW `get_Muiltimedia_technologyMarks` AS
SELECT student_id AS `TG NUMBER` ,
quiz_1 AS `QUIZ ONE` ,
quiz_2 AS `QUIZ TWO`,
quiz_3 AS `QUIZ THREE`,
inclass_test_marks AS `IN CLASS TEST`,
mid_exam_marks AS `MID EXAM`,
end_exam_marks AS `END EXAM`
FROM ICT1261_course_marks;

-- SELECT * FROM `get_Muiltimedia_technologyMarks`;


-- get all data from Muiltimedia_technology marks

CREATE VIEW `get_Fundamendal_of_ISMarks` AS
SELECT student_id AS `TG NUMBER` ,
quiz_1 AS `QUIZ ONE` ,
quiz_2 AS `QUIZ TWO`,
quiz_3 AS `QUIZ THREE`,
inclass_test_marks AS `IN CLASS TEST`,
mid_exam_marks AS `MID EXAM`,
end_exam_marks AS `END EXAM`
FROM ICT1271_course_marks;

-- SELECT * FROM `get_Fundamendal_of_ISMarks`;

-- get all data from Web_technology marks
CREATE VIEW `get_Web_technologyMarks` AS
SELECT student_id AS `TG NUMBER` ,
quiz_1 AS `QUIZ ONE` ,
quiz_2 AS `QUIZ TWO`,
quiz_3 AS `QUIZ THREE`,
inclass_test_marks AS `IN CLASS TEST`,
mid_exam_marks AS `MID EXAM`,
end_exam_marks AS `END EXAM`
FROM ICT1283_course_marks;


-- SELECT * FROM `get_Web_technologyMarks`;

-- get all data from Artificial_inteligence marks
CREATE VIEW `Artificial_inteligenceMarks` AS
SELECT student_id AS `TG NUMBER` ,
quiz_1 AS `QUIZ ONE` ,
quiz_2 AS `QUIZ TWO`,
quiz_3 AS `QUIZ THREE`,
inclass_test_marks AS `IN CLASS TEST`,
mid_exam_marks AS `MID EXAM`,
end_exam_marks AS `END EXAM`
FROM ICT1293_course_marks;


-- SELECT * FROM `Artificial_inteligenceMarks`;


-- get all data from Artificial_inteligence marks
CREATE VIEW `Software_engineeringMarks` AS
SELECT student_id AS `TG NUMBER` ,
quiz_1 AS `QUIZ ONE` ,
quiz_2 AS `QUIZ TWO`,
quiz_3 AS `QUIZ THREE`,
inclass_test_marks AS `IN CLASS TEST`,
mid_exam_marks AS `MID EXAM`,
end_exam_marks AS `END EXAM`
FROM ICT12101_course_marks;



-- SELECT * FROM `Software_engineeringMarks`;







ALTER TABLE `attendance`
MODIFY COLUMN `student_id` CHAR(10) CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci;


SELECT student_id
FROM `attendance`
WHERE student_id NOT IN (SELECT student_id FROM `student`);

ALTER TABLE `attendance`
ADD CONSTRAINT `fk_attendance_student`
FOREIGN KEY (`student_id`) REFERENCES `student`(`student_id`)
ON DELETE CASCADE
ON UPDATE CASCADE;


CREATE VIEW seeAllAttendance AS
SELECT * FROM  `attendance` ;

SELECT * FROM seeAllAttendance;

CREATE VIEW Attendance_Eligibility AS
SELECT DISTINCT
    SA.student_id,
    S.name AS StudentName,
    (CASE
        WHEN SA.attendance_percentage >= 80.00 THEN 'Eligible'
        ELSE 'Not Eligible'
    END) AS eligibility
FROM
    attendance AS SA
JOIN
    student AS S ON SA.student_id = S.student_id;

SELECT * FROM Attendance_Eligibility;






